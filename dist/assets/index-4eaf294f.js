var Ao=Object.defineProperty;var Ro=(i,s,t)=>s in i?Ao(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var z=(i,s,t)=>(Ro(i,typeof s!="symbol"?s+"":s,t),t),Li=(i,s,t)=>{if(!s.has(i))throw TypeError("Cannot "+t)};var o=(i,s,t)=>(Li(i,s,"read from private field"),t?t.call(i):s.get(i)),d=(i,s,t)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,t)},u=(i,s,t,n)=>(Li(i,s,"write to private field"),n?n.call(i,t):s.set(i,t),t);var De=(i,s,t,n)=>({set _(e){u(i,s,e,t)},get _(){return o(i,s,n)}}),g=(i,s,t)=>(Li(i,s,"access private method"),t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const _o="modulepreload",Po=function(i,s){return new URL(i,s).href},nn={},Rn=function(s,t,n){if(!t||t.length===0)return s();const e=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=Po(r,n),r in nn)return;nn[r]=!0;const a=r.endsWith(".css"),c=a?'[rel="stylesheet"]':"";if(!!n)for(let p=e.length-1;p>=0;p--){const f=e[p];if(f.href===r&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const h=document.createElement("link");if(h.rel=a?"stylesheet":_o,a||(h.as="script",h.crossOrigin=""),h.href=r,document.head.appendChild(h),a)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};function zo(i={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:e,onRegisteredSW:r,onRegisterError:a}=i;let c,l,h;const p=async(m=!0)=>{await l,await(h==null?void 0:h())};async function f(){if("serviceWorker"in navigator){const{Workbox:m}=await Rn(()=>import("./workbox-window.prod.es5-a7b12eab.js"),[],import.meta.url);c=new m("./service-worker.js",{scope:"./",type:"classic"}),h=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let y=!1;const S=()=>{y=!0,c==null||c.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()}),t==null||t()};c.addEventListener("installed",w=>{typeof w.isUpdate>"u"?typeof w.isExternal<"u"?w.isExternal?S():!y&&(n==null||n()):w.isExternal?window.location.reload():!y&&(n==null||n()):w.isUpdate||n==null||n()}),c.addEventListener("waiting",S),c.addEventListener("externalwaiting",S)}c.register({immediate:s}).then(y=>{r?r("./service-worker.js",y):e==null||e(y)}).catch(y=>{a==null||a(y)})}}return l=f(),p}zo();/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const _n=Object.freeze({left:0,top:0,width:16,height:16}),Ve=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),$e=Object.freeze({..._n,...Ve}),zi=Object.freeze({...$e,body:"",hidden:!1}),Bo=Object.freeze({width:null,height:null}),Pn=Object.freeze({...Bo,...Ve});function Mo(i,s=0){const t=i.replace(/^-?[0-9.]*/,"");function n(e){for(;e<0;)e+=4;return e%4}if(t===""){const e=parseInt(i);return isNaN(e)?0:n(e)}else if(t!==i){let e=0;switch(t){case"%":e=25;break;case"deg":e=90}if(e){let r=parseFloat(i.slice(0,i.length-t.length));return isNaN(r)?0:(r=r/e,r%1===0?n(r):0)}}return s}const No=/[\s,]+/;function Uo(i,s){s.split(No).forEach(t=>{switch(t.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}const zn={...Pn,preserveAspectRatio:""};function on(i){const s={...zn},t=(n,e)=>i.getAttribute(n)||e;return s.width=t("width",null),s.height=t("height",null),s.rotate=Mo(t("rotate","")),Uo(s,t("flip","")),s.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),s}function Oo(i,s){for(const t in zn)if(i[t]!==s[t])return!0;return!1}const oe=/^[a-z0-9]+(-[a-z0-9]+)*$/,He=(i,s,t,n="")=>{const e=i.split(":");if(i.slice(0,1)==="@"){if(e.length<2||e.length>3)return null;n=e.shift().slice(1)}if(e.length>3||!e.length)return null;if(e.length>1){const c=e.pop(),l=e.pop(),h={provider:e.length>0?e[0]:n,prefix:l,name:c};return s&&!Qe(h)?null:h}const r=e[0],a=r.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return s&&!Qe(c)?null:c}if(t&&n===""){const c={provider:n,prefix:"",name:r};return s&&!Qe(c,t)?null:c}return null},Qe=(i,s)=>i?!!((i.provider===""||i.provider.match(oe))&&(s&&i.prefix===""||i.prefix.match(oe))&&i.name.match(oe)):!1;function jo(i,s){const t={};!i.hFlip!=!s.hFlip&&(t.hFlip=!0),!i.vFlip!=!s.vFlip&&(t.vFlip=!0);const n=((i.rotate||0)+(s.rotate||0))%4;return n&&(t.rotate=n),t}function sn(i,s){const t=jo(i,s);for(const n in zi)n in Ve?n in i&&!(n in t)&&(t[n]=Ve[n]):n in s?t[n]=s[n]:n in i&&(t[n]=i[n]);return t}function qo(i,s){const t=i.icons,n=i.aliases||Object.create(null),e=Object.create(null);function r(a){if(t[a])return e[a]=[];if(!(a in e)){e[a]=null;const c=n[a]&&n[a].parent,l=c&&r(c);l&&(e[a]=[c].concat(l))}return e[a]}return(s||Object.keys(t).concat(Object.keys(n))).forEach(r),e}function Fo(i,s,t){const n=i.icons,e=i.aliases||Object.create(null);let r={};function a(c){r=sn(n[c]||e[c],r)}return a(s),t.forEach(a),sn(i,r)}function Bn(i,s){const t=[];if(typeof i!="object"||typeof i.icons!="object")return t;i.not_found instanceof Array&&i.not_found.forEach(e=>{s(e,null),t.push(e)});const n=qo(i);for(const e in n){const r=n[e];r&&(s(e,Fo(i,e,r)),t.push(e))}return t}const $o={provider:"",aliases:{},not_found:{},..._n};function Ti(i,s){for(const t in s)if(t in i&&typeof i[t]!=typeof s[t])return!1;return!0}function Mn(i){if(typeof i!="object"||i===null)return null;const s=i;if(typeof s.prefix!="string"||!i.icons||typeof i.icons!="object"||!Ti(i,$o))return null;const t=s.icons;for(const e in t){const r=t[e];if(!e.match(oe)||typeof r.body!="string"||!Ti(r,zi))return null}const n=s.aliases||Object.create(null);for(const e in n){const r=n[e],a=r.parent;if(!e.match(oe)||typeof a!="string"||!t[a]&&!n[a]||!Ti(r,zi))return null}return s}const Ke=Object.create(null);function Ho(i,s){return{provider:i,prefix:s,icons:Object.create(null),missing:new Set}}function xt(i,s){const t=Ke[i]||(Ke[i]=Object.create(null));return t[s]||(t[s]=Ho(i,s))}function Xi(i,s){return Mn(s)?Bn(s,(t,n)=>{n?i.icons[t]=n:i.missing.add(t)}):[]}function Wo(i,s,t){try{if(typeof t.body=="string")return i.icons[s]={...t},!0}catch{}return!1}function Do(i,s){let t=[];return(typeof i=="string"?[i]:Object.keys(Ke)).forEach(e=>{(typeof e=="string"&&typeof s=="string"?[s]:Object.keys(Ke[e]||{})).forEach(a=>{const c=xt(e,a);t=t.concat(Object.keys(c.icons).map(l=>(e!==""?"@"+e+":":"")+a+":"+l))})}),t}let re=!1;function Nn(i){return typeof i=="boolean"&&(re=i),re}function ae(i){const s=typeof i=="string"?He(i,!0,re):i;if(s){const t=xt(s.provider,s.prefix),n=s.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function Un(i,s){const t=He(i,!0,re);if(!t)return!1;const n=xt(t.provider,t.prefix);return Wo(n,t.name,s)}function rn(i,s){if(typeof i!="object")return!1;if(typeof s!="string"&&(s=i.provider||""),re&&!s&&!i.prefix){let e=!1;return Mn(i)&&(i.prefix="",Bn(i,(r,a)=>{a&&Un(r,a)&&(e=!0)})),e}const t=i.prefix;if(!Qe({provider:s,prefix:t,name:"a"}))return!1;const n=xt(s,t);return!!Xi(n,i)}function Go(i){return!!ae(i)}function Qo(i){const s=ae(i);return s?{...$e,...s}:null}function Yo(i){const s={loaded:[],missing:[],pending:[]},t=Object.create(null);i.sort((e,r)=>e.provider!==r.provider?e.provider.localeCompare(r.provider):e.prefix!==r.prefix?e.prefix.localeCompare(r.prefix):e.name.localeCompare(r.name));let n={provider:"",prefix:"",name:""};return i.forEach(e=>{if(n.name===e.name&&n.prefix===e.prefix&&n.provider===e.provider)return;n=e;const r=e.provider,a=e.prefix,c=e.name,l=t[r]||(t[r]=Object.create(null)),h=l[a]||(l[a]=xt(r,a));let p;c in h.icons?p=s.loaded:a===""||h.missing.has(c)?p=s.missing:p=s.pending;const f={provider:r,prefix:a,name:c};p.push(f)}),s}function On(i,s){i.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(e=>e.id!==s))})}function Xo(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const s=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!s.length)return;let t=!1;const n=i.provider,e=i.prefix;s.forEach(r=>{const a=r.icons,c=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==e)return!0;const h=l.name;if(i.icons[h])a.loaded.push({provider:n,prefix:e,name:h});else if(i.missing.has(h))a.missing.push({provider:n,prefix:e,name:h});else return t=!0,!0;return!1}),a.pending.length!==c&&(t||On([i],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let Vo=0;function Ko(i,s,t){const n=Vo++,e=On.bind(null,t,n);if(!s.pending.length)return e;const r={id:n,icons:s,callback:i,abort:e};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),e}const Bi=Object.create(null);function an(i,s){Bi[i]=s}function Mi(i){return Bi[i]||Bi[""]}function Jo(i,s=!0,t=!1){const n=[];return i.forEach(e=>{const r=typeof e=="string"?He(e,s,t):e;r&&n.push(r)}),n}var Zo={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ts(i,s,t,n){const e=i.resources.length,r=i.random?Math.floor(Math.random()*e):i.index;let a;if(i.random){let x=i.resources.slice(0);for(a=[];x.length>1;){const U=Math.floor(Math.random()*x.length);a.push(x[U]),x=x.slice(0,U).concat(x.slice(U+1))}a=a.concat(x)}else a=i.resources.slice(r).concat(i.resources.slice(0,r));const c=Date.now();let l="pending",h=0,p,f=null,m=[],y=[];typeof n=="function"&&y.push(n);function S(){f&&(clearTimeout(f),f=null)}function w(){l==="pending"&&(l="aborted"),S(),m.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),m=[]}function vt(x,U){U&&(y=[]),typeof x=="function"&&y.push(x)}function J(){return{startTime:c,payload:s,status:l,queriesSent:h,queriesPending:m.length,subscribe:vt,abort:w}}function E(){l="failed",y.forEach(x=>{x(void 0,p)})}function R(){m.forEach(x=>{x.status==="pending"&&(x.status="aborted")}),m=[]}function Ei(x,U,te){const We=U!=="success";switch(m=m.filter(St=>St!==x),l){case"pending":break;case"failed":if(We||!i.dataAfterTimeout)return;break;default:return}if(U==="abort"){p=te,E();return}if(We){p=te,m.length||(a.length?Zt():E());return}if(S(),R(),!i.random){const St=i.resources.indexOf(x.resource);St!==-1&&St!==i.index&&(i.index=St)}l="completed",y.forEach(St=>{St(te)})}function Zt(){if(l!=="pending")return;S();const x=a.shift();if(x===void 0){if(m.length){f=setTimeout(()=>{S(),l==="pending"&&(R(),E())},i.timeout);return}E();return}const U={status:"pending",resource:x,callback:(te,We)=>{Ei(U,te,We)}};m.push(U),h++,f=setTimeout(Zt,i.rotate),t(x,s,U.callback)}return setTimeout(Zt),J}function jn(i){const s={...Zo,...i};let t=[];function n(){t=t.filter(c=>c().status==="pending")}function e(c,l,h){const p=ts(s,c,l,(f,m)=>{n(),h&&h(f,m)});return t.push(p),p}function r(c){return t.find(l=>c(l))||null}return{query:e,find:r,setIndex:c=>{s.index=c},getIndex:()=>s.index,cleanup:n}}function Vi(i){let s;if(typeof i.resources=="string")s=[i.resources];else if(s=i.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const ki=Object.create(null),ee=["https://api.simplesvg.com","https://api.unisvg.com"],Ye=[];for(;ee.length>0;)ee.length===1||Math.random()>.5?Ye.push(ee.shift()):Ye.push(ee.pop());ki[""]=Vi({resources:["https://api.iconify.design"].concat(Ye)});function cn(i,s){const t=Vi(s);return t===null?!1:(ki[i]=t,!0)}function Ii(i){return ki[i]}function es(){return Object.keys(ki)}function ln(){}const Ci=Object.create(null);function is(i){if(!Ci[i]){const s=Ii(i);if(!s)return;const t=jn(s),n={config:s,redundancy:t};Ci[i]=n}return Ci[i]}function qn(i,s,t){let n,e;if(typeof i=="string"){const r=Mi(i);if(!r)return t(void 0,424),ln;e=r.send;const a=is(i);a&&(n=a.redundancy)}else{const r=Vi(i);if(r){n=jn(r);const a=i.resources?i.resources[0]:"",c=Mi(a);c&&(e=c.send)}}return!n||!e?(t(void 0,424),ln):n.query(s,e,t)().abort}const hn="iconify2",ce="iconify",Fn=ce+"-count",dn=ce+"-version",$n=36e5,ns=168;function Ni(i,s){try{return i.getItem(s)}catch{}}function Ki(i,s,t){try{return i.setItem(s,t),!0}catch{}}function un(i,s){try{i.removeItem(s)}catch{}}function Ui(i,s){return Ki(i,Fn,s.toString())}function Oi(i){return parseInt(Ni(i,Fn))||0}const Nt={local:!0,session:!0},Hn={local:new Set,session:new Set};let Ji=!1;function os(i){Ji=i}let Ge=typeof window>"u"?{}:window;function Wn(i){const s=i+"Storage";try{if(Ge&&Ge[s]&&typeof Ge[s].length=="number")return Ge[s]}catch{}Nt[i]=!1}function Dn(i,s){const t=Wn(i);if(!t)return;const n=Ni(t,dn);if(n!==hn){if(n){const c=Oi(t);for(let l=0;l<c;l++)un(t,ce+l.toString())}Ki(t,dn,hn),Ui(t,0);return}const e=Math.floor(Date.now()/$n)-ns,r=c=>{const l=ce+c.toString(),h=Ni(t,l);if(typeof h=="string"){try{const p=JSON.parse(h);if(typeof p=="object"&&typeof p.cached=="number"&&p.cached>e&&typeof p.provider=="string"&&typeof p.data=="object"&&typeof p.data.prefix=="string"&&s(p,c))return!0}catch{}un(t,l)}};let a=Oi(t);for(let c=a-1;c>=0;c--)r(c)||(c===a-1?(a--,Ui(t,a)):Hn[i].add(c))}function Gn(){if(!Ji){os(!0);for(const i in Nt)Dn(i,s=>{const t=s.data,n=s.provider,e=t.prefix,r=xt(n,e);if(!Xi(r,t).length)return!1;const a=t.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function ss(i,s){const t=i.lastModifiedCached;if(t&&t>=s)return t===s;if(i.lastModifiedCached=s,t)for(const n in Nt)Dn(n,e=>{const r=e.data;return e.provider!==i.provider||r.prefix!==i.prefix||r.lastModified===s});return!0}function rs(i,s){Ji||Gn();function t(n){let e;if(!Nt[n]||!(e=Wn(n)))return;const r=Hn[n];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=Oi(e),!Ui(e,a+1))return;const c={cached:Math.floor(Date.now()/$n),provider:i.provider,data:s};return Ki(e,ce+a.toString(),JSON.stringify(c))}s.lastModified&&!ss(i,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),t("local")||t("session"))}function pn(){}function as(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,Xo(i)}))}function cs(i,s){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(s).sort():i.iconsToLoad=s,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:t,prefix:n}=i,e=i.iconsToLoad;delete i.iconsToLoad;let r;if(!e||!(r=Mi(t)))return;r.prepare(t,n,e).forEach(c=>{qn(t,c,l=>{if(typeof l!="object")c.icons.forEach(h=>{i.missing.add(h)});else try{const h=Xi(i,l);if(!h.length)return;const p=i.pendingIcons;p&&h.forEach(f=>{p.delete(f)}),rs(i,l)}catch(h){console.error(h)}as(i)})})}))}const Zi=(i,s)=>{const t=Jo(i,!0,Nn()),n=Yo(t);if(!n.pending.length){let l=!0;return s&&setTimeout(()=>{l&&s(n.loaded,n.missing,n.pending,pn)}),()=>{l=!1}}const e=Object.create(null),r=[];let a,c;return n.pending.forEach(l=>{const{provider:h,prefix:p}=l;if(p===c&&h===a)return;a=h,c=p,r.push(xt(h,p));const f=e[h]||(e[h]=Object.create(null));f[p]||(f[p]=[])}),n.pending.forEach(l=>{const{provider:h,prefix:p,name:f}=l,m=xt(h,p),y=m.pendingIcons||(m.pendingIcons=new Set);y.has(f)||(y.add(f),e[h][p].push(f))}),r.forEach(l=>{const{provider:h,prefix:p}=l;e[h][p].length&&cs(l,e[h][p])}),s?Ko(s,n,r):pn},ls=i=>new Promise((s,t)=>{const n=typeof i=="string"?He(i,!0):i;if(!n){t(i);return}Zi([n||i],e=>{if(e.length&&n){const r=ae(n);if(r){s({...$e,...r});return}}t(i)})});function hs(i){try{const s=typeof i=="string"?JSON.parse(i):i;if(typeof s.body=="string")return{...s}}catch{}}function ds(i,s){const t=typeof i=="string"?He(i,!0,!0):null;if(!t){const r=hs(i);return{value:i,data:r}}const n=ae(t);if(n!==void 0||!t.prefix)return{value:i,name:t,data:n};const e=Zi([t],()=>s(i,t,ae(t)));return{value:i,name:t,loading:e}}function Ai(i){return i.hasAttribute("inline")}let Qn=!1;try{Qn=navigator.vendor.indexOf("Apple")===0}catch{}function us(i,s){switch(s){case"svg":case"bg":case"mask":return s}return s!=="style"&&(Qn||i.indexOf("<a")===-1)?"svg":i.indexOf("currentColor")===-1?"bg":"mask"}const ps=/(-?[0-9.]*[0-9]+[0-9.]*)/g,fs=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ji(i,s,t){if(s===1)return i;if(t=t||100,typeof i=="number")return Math.ceil(i*s*t)/t;if(typeof i!="string")return i;const n=i.split(ps);if(n===null||!n.length)return i;const e=[];let r=n.shift(),a=fs.test(r);for(;;){if(a){const c=parseFloat(r);isNaN(c)?e.push(r):e.push(Math.ceil(c*s*t)/t)}else e.push(r);if(r=n.shift(),r===void 0)return e.join("");a=!a}}const gs=i=>i==="unset"||i==="undefined"||i==="none";function Yn(i,s){const t={...$e,...i},n={...Pn,...s},e={left:t.left,top:t.top,width:t.width,height:t.height};let r=t.body;[t,n].forEach(S=>{const w=[],vt=S.hFlip,J=S.vFlip;let E=S.rotate;vt?J?E+=2:(w.push("translate("+(e.width+e.left).toString()+" "+(0-e.top).toString()+")"),w.push("scale(-1 1)"),e.top=e.left=0):J&&(w.push("translate("+(0-e.left).toString()+" "+(e.height+e.top).toString()+")"),w.push("scale(1 -1)"),e.top=e.left=0);let R;switch(E<0&&(E-=Math.floor(E/4)*4),E=E%4,E){case 1:R=e.height/2+e.top,w.unshift("rotate(90 "+R.toString()+" "+R.toString()+")");break;case 2:w.unshift("rotate(180 "+(e.width/2+e.left).toString()+" "+(e.height/2+e.top).toString()+")");break;case 3:R=e.width/2+e.left,w.unshift("rotate(-90 "+R.toString()+" "+R.toString()+")");break}E%2===1&&(e.left!==e.top&&(R=e.left,e.left=e.top,e.top=R),e.width!==e.height&&(R=e.width,e.width=e.height,e.height=R)),w.length&&(r='<g transform="'+w.join(" ")+'">'+r+"</g>")});const a=n.width,c=n.height,l=e.width,h=e.height;let p,f;a===null?(f=c===null?"1em":c==="auto"?h:c,p=ji(f,l/h)):(p=a==="auto"?l:a,f=c===null?ji(p,h/l):c==="auto"?h:c);const m={},y=(S,w)=>{gs(w)||(m[S]=w.toString())};return y("width",p),y("height",f),m.viewBox=e.left.toString()+" "+e.top.toString()+" "+l.toString()+" "+h.toString(),{attributes:m,body:r}}const ms=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let Je=ms();function bs(i){Je=i}function ys(){return Je}function ws(i,s){const t=Ii(i);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let e=0;t.resources.forEach(a=>{e=Math.max(e,a.length)});const r=s+".json?icons=";n=t.maxURL-e-t.path.length-r.length}return n}function xs(i){return i===404}const vs=(i,s,t)=>{const n=[],e=ws(i,s),r="icons";let a={type:r,provider:i,prefix:s,icons:[]},c=0;return t.forEach((l,h)=>{c+=l.length+1,c>=e&&h>0&&(n.push(a),a={type:r,provider:i,prefix:s,icons:[]},c=l.length),a.icons.push(l)}),n.push(a),n};function Ss(i){if(typeof i=="string"){const s=Ii(i);if(s)return s.path}return"/"}const ks=(i,s,t)=>{if(!Je){t("abort",424);return}let n=Ss(s.provider);switch(s.type){case"icons":{const r=s.prefix,c=s.icons.join(","),l=new URLSearchParams({icons:c});n+=r+".json?"+l.toString();break}case"custom":{const r=s.uri;n+=r.slice(0,1)==="/"?r.slice(1):r;break}default:t("abort",400);return}let e=503;Je(i+n).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{t(xs(a)?"abort":"next",a)});return}return e=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?t("abort",r):t("next",e)});return}setTimeout(()=>{t("success",r)})}).catch(()=>{t("next",e)})},Is={prepare:vs,send:ks};function fn(i,s){switch(i){case"local":case"session":Nt[i]=s;break;case"all":for(const t in Nt)Nt[t]=s;break}}const Ri="data-style";let Xn="";function Es(i){Xn=i}function gn(i,s){let t=Array.from(i.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(Ri));t||(t=document.createElement("style"),t.setAttribute(Ri,Ri),i.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(s?"-0.125em":"0")+"}span,svg{display:block}"+Xn}function Vn(){an("",Is),Nn(!0);let i;try{i=window}catch{}if(i){if(Gn(),i.IconifyPreload!==void 0){const t=i.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(e=>{try{(typeof e!="object"||e===null||e instanceof Array||typeof e.icons!="object"||typeof e.prefix!="string"||!rn(e))&&console.error(n)}catch{console.error(n)}})}if(i.IconifyProviders!==void 0){const t=i.IconifyProviders;if(typeof t=="object"&&t!==null)for(const n in t){const e="IconifyProviders["+n+"] is invalid.";try{const r=t[n];if(typeof r!="object"||!r||r.resources===void 0)continue;cn(n,r)||console.error(e)}catch{console.error(e)}}}}return{enableCache:t=>fn(t,!0),disableCache:t=>fn(t,!1),iconExists:Go,getIcon:Qo,listIcons:Do,addIcon:Un,addCollection:rn,calculateSize:ji,buildIcon:Yn,loadIcons:Zi,loadIcon:ls,addAPIProvider:cn,appendCustomStyle:Es,_api:{getAPIConfig:Ii,setAPIModule:an,sendAPIQuery:qn,setFetch:bs,getFetch:ys,listAPIProviders:es}}}function Kn(i,s){let t=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in s)t+=" "+n+'="'+s[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+i+"</svg>"}function Ls(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ts(i){return"data:image/svg+xml,"+Ls(i)}function Cs(i){return'url("'+Ts(i)+'")'}const qi={"background-color":"currentColor"},Jn={"background-color":"transparent"},mn={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},bn={"-webkit-mask":qi,mask:qi,background:Jn};for(const i in bn){const s=bn[i];for(const t in mn)s[i+"-"+t]=mn[t]}function yn(i){return i?i+(i.match(/^[-0-9.]+$/)?"px":""):"inherit"}function As(i,s,t){const n=document.createElement("span");let e=i.body;e.indexOf("<a")!==-1&&(e+="<!-- "+Date.now()+" -->");const r=i.attributes,a=Kn(e,{...r,width:s.width+"",height:s.height+""}),c=Cs(a),l=n.style,h={"--svg":c,width:yn(r.width),height:yn(r.height),...t?qi:Jn};for(const p in h)l.setProperty(p,h[p]);return n}let se;function Rs(){try{se=window.trustedTypes.createPolicy("iconify",{createHTML:i=>i})}catch{se=null}}function _s(i){return se===void 0&&Rs(),se?se.createHTML(i):i}function Ps(i){const s=document.createElement("span"),t=i.attributes;let n="";t.width||(n="width: inherit;"),t.height||(n+="height: inherit;"),n&&(t.style=n);const e=Kn(i.body,t);return s.innerHTML=_s(e),s.firstChild}function wn(i,s){const t=s.icon.data,n=s.customisations,e=Yn(t,n);n.preserveAspectRatio&&(e.attributes.preserveAspectRatio=n.preserveAspectRatio);const r=s.renderedMode;let a;switch(r){case"svg":a=Ps(e);break;default:a=As(e,{...$e,...t},r==="mask")}const c=Array.from(i.childNodes).find(l=>{const h=l.tagName&&l.tagName.toUpperCase();return h==="SPAN"||h==="SVG"});c?a.tagName==="SPAN"&&c.tagName===a.tagName?c.setAttribute("style",a.getAttribute("style")):i.replaceChild(a,c):i.appendChild(a)}function xn(i,s,t){const n=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:s,icon:i,lastRender:n}}function zs(i="iconify-icon"){let s,t;try{s=window.customElements,t=window.HTMLElement}catch{return}if(!s||!t)return;const n=s.get(i);if(n)return n;const e=["icon","mode","inline","width","height","rotate","flip"],r=class extends t{constructor(){super();z(this,"_shadowRoot");z(this,"_state");z(this,"_checkQueued",!1);const l=this._shadowRoot=this.attachShadow({mode:"open"}),h=Ai(this);gn(l,h),this._state=xn({value:""},h),this._queueCheck()}static get observedAttributes(){return e.slice(0)}attributeChangedCallback(l){if(l==="inline"){const h=Ai(this),p=this._state;h!==p.inline&&(p.inline=h,gn(this._shadowRoot,h))}else this._queueCheck()}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return Ai(this)}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const l=this._state;if(l.rendered){const h=this._shadowRoot;if(l.renderedMode==="svg")try{h.lastChild.setCurrentTime(0);return}catch{}wn(h,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,h=this.getAttribute("icon");if(h!==l.icon.value){this._iconChanged(h);return}if(!l.rendered)return;const p=this.getAttribute("mode"),f=on(this);(l.attrMode!==p||Oo(l.customisations,f))&&this._renderIcon(l.icon,f,p)}_iconChanged(l){const h=ds(l,(p,f,m)=>{const y=this._state;if(y.rendered||this.getAttribute("icon")!==p)return;const S={value:p,name:f,data:m};S.data?this._gotIconData(S):y.icon=S});h.data?this._gotIconData(h):this._state=xn(h,this._state.inline,this._state)}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,on(this),this.getAttribute("mode"))}_renderIcon(l,h,p){const f=us(l.data.body,p),m=this._state.inline;wn(this._shadowRoot,this._state={rendered:!0,icon:l,inline:m,customisations:h,attrMode:p,renderedMode:f})}};e.forEach(c=>{c in r.prototype||Object.defineProperty(r.prototype,c,{get:function(){return this.getAttribute(c)},set:function(l){l!==null?this.setAttribute(c,l):this.removeAttribute(c)}})});const a=Vn();for(const c in a)r[c]=r.prototype[c]=a[c];return s.define(i,r),r}zs()||Vn();const le=new Map,he={photoUrl:"",name:"",bounty:"",nameSpacing:0,bountySpacing:1,filter:"",shadow:0,blur:0,brightness:100,contrast:100,grayscale:0,hueRotate:0,saturate:100,sepia:0};function Bs(i){return i in he}function Fi({blur:i,brightness:s,contrast:t,grayscale:n,hueRotate:e,saturate:r,sepia:a}){return`blur(${i}px) brightness(${s}%) contrast(${t}%) grayscale(${n}%) hue-rotate(${e}deg) saturate(${r}%) sepia(${a}%)`}const b=new Proxy({...he,filter:Fi(he)},{set(i,s,t,n){if(!Bs(s))return!0;switch(s){case"blur":case"brightness":case"contrast":case"grayscale":case"hueRotate":case"saturate":case"sepia":{const e=Fi({...i,[s]:t});if(e===i.filter)break;i.filter=e,setTimeout(()=>{(le.get("filter")??[]).forEach(a=>a("filter",e,i))})}}return setTimeout(()=>{(le.get(s)??[]).forEach(r=>r(s,t,i))}),Reflect.set(i,s,t,n)}});function I(i,s){let t=le.get(i);t||(t=[],le.set(i,t)),t.push(s)}function P(i,s){const t=le.get(i);if(!t)return;const n=t.findIndex(e=>e===s);n>-1&&t.splice(n,1)}function _i(i={}){Object.assign(b,{...b,filter:Fi(he),...i})}function Ms(i={}){Object.assign(b,{...he,...i})}const ne={shadow:5,blur:0,brightness:100,contrast:100,hueRotate:0,grayscale:12,saturate:80,sepia:15,name:"PUTLER",bounty:"War Criminal",nameSpacing:0,bountySpacing:1,photoUrls:["./images/war-criminal/photo-01.png","./images/war-criminal/photo-02.png","./images/war-criminal/photo-03.png"]};function Ns(i){var s;(s=window.launchQueue)==null||s.setConsumer(t=>{var n;(n=t.files)!=null&&n.length&&i(t.files)})}function Us(i){return i.kind==="file"}const vn={setConsumer:Ns,isFileHandle:Us},Os=":host{display:block;position:relative;transition:background-color .2s;box-sizing:border-box;background-image:url("+new URL("../images/cement-wall.jpg",import.meta.url).href+");background-position:center;background-size:cover;background-blend-mode:multiply;padding:1rem;width:100%;height:100%}:host(.warcriminal){background-image:url("+new URL("../images/cement-wall.jpg",import.meta.url).href+"),url("+new URL("../images/blood-stains-0.png",import.meta.url).href+")}:host(.dragin){background-color:silver}#uploadInput{display:none}.blood-overlay{display:none;position:absolute;top:0;left:0;opacity:.8;mix-blend-mode:multiply;animation-duration:4s;animation-name:fade-in;background-image:url("+new URL("../images/blood-stains-1.png",import.meta.url).href+");background-position:center;background-size:cover;width:100%;height:100%}.blood-overlay--visible{display:block}.loading-overlay{display:flex;position:absolute;top:0;left:0;justify-content:center;align-items:center;background-image:radial-gradient(#e1e4e7,#a5aab0);width:100%;height:100%}.loading-overlay__luffy{filter:drop-shadow(0 3px 3px rgb(0 0 0 / 50%));max-width:50vw;max-height:40vh}.tips-button{position:absolute;top:.8rem;left:.8rem;cursor:pointer;outline:none;border:0;background-color:transparent;padding:0}.tips-button>svg{filter:drop-shadow(0 0 2px rgb(0 0 0 / 50%));transition:.2s}.tips-button>svg:hover{filter:drop-shadow(0 0 3px #c08000) drop-shadow(0 0 5px #fffca3)}.tips-button--hidden{display:none}.optc-button{position:fixed;top:.5rem;right:5rem;filter:drop-shadow(0 0 .125rem rgb(0 0 0));transition:filter .2s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/tavern-button.png",import.meta.url).href+");background-position:center;background-size:contain;background-repeat:no-repeat;background-color:transparent;padding:0;width:2.4rem;height:2.4rem}.optc-button--hidden{display:none}.optc-button:hover{filter:drop-shadow(0 0 .18rem rgba(0 0 0))}.button-container{display:flex;position:absolute;bottom:0;left:0;gap:.5rem;box-sizing:border-box;padding:0 1rem 1rem}.button-container--hidden{display:none}.criminal{position:fixed;right:1rem;bottom:1.2rem;visibility:hidden;opacity:0;transition:visiblity 2s,opacity 2s;cursor:pointer;margin-left:auto;outline:none;border:0;background-color:transparent;padding:0;width:4rem;max-width:15vw;height:4rem;max-height:15vw}.criminal--visible{visibility:visible;opacity:1}.criminal.criminal--visible:after{top:55%;opacity:1}.criminal:before{position:absolute;top:0;left:0;filter:contrast(85%) brightness(0%) drop-shadow(1px 1px .5rem crimson) drop-shadow(-1px -1px .5rem crimson);transition:filter .5s;background-image:url("+new URL("../images/war-criminal/criminal-avatar.png",import.meta.url).href+');background-position:center;background-size:contain;background-repeat:no-repeat;width:100%;height:100%;content:" "}.criminal--stamp:before{filter:contrast(85%) brightness(110%) drop-shadow(1px 1px .1rem rgb(0 0 0 / 50%)) drop-shadow(-1px -1px .1rem rgb(0 0 0 / 50%));background-image:url('+new URL("../images/war-criminal/criminal-stamp.png",import.meta.url).href+"),url("+new URL("../images/war-criminal/criminal-avatar.png",import.meta.url).href+`)}.criminal:after{position:absolute;top:120%;left:53%;transform:translate(-50%,-50%);opacity:0;filter:brightness(100%)!important;transition:1s ease-out;content:"?";color:#fff;font-size:min(7vw,2rem)}.criminal--stamp:after{content:""}@keyframes fade-in{0%{opacity:0}to{opacity:.8}}
`,js=`<input id="uploadInput" type="file" accept="image/*">\r
<slot name="poster"></slot>\r
<div class="blood-overlay"></div>\r
\r
<div class="button-container">\r
  <wanted-button id="editButton" aria-label="Edit panel button" title="Open the edit panel.">\r
    <iconify-icon slot="icon" icon="fluent-mdl2:edit-photo"></iconify-icon>\r
    EDIT\r
  </wanted-button>\r
\r
  <wanted-button id="importButton" aria-label="Import button" title="Import local image to edit.">\r
    <iconify-icon slot="icon" icon="uil:image-upload"></iconify-icon>\r
    IMPORT\r
  </wanted-button>\r
\r
  <wanted-button id="exportButton" aria-label="Export button" title="Export as image file.">\r
    <iconify-icon slot="icon" icon="uil:image-download"></iconify-icon>\r
    EXPORT\r
  </wanted-button>\r
</div>\r
\r
<button id="criminalButton" class="criminal" aria-label="Criminal mode button" title="War criminal"></button>\r
\r
<button id="tipsButton" class="tips-button" aria-label="Tips button" title="Tips">\r
  <svg width="32" height="32" viewBox="0 0 25 22">\r
    <defs>\r
      <radialGradient id="logo-gradient" cx="34%" cy="32%" fr="5%">\r
        <stop offset="0%" stop-color="#FFFDA8"></stop>\r
        <stop offset="70%" stop-color="#FFAB00"></stop>\r
      </radialGradient>\r
    </defs>\r
    <path fill="url('#logo-gradient')" stroke="#4E4A49"\r
      d="m22 10l-.625-1.375L20 8l1.375-.625L22 6l.625 1.375L24 8l-1.375.625Zm-3-4l-.95-2.05L16 3l2.05-.95L19 0l.95 2.05L22 3l-2.05.95ZM9 22q-.825 0-1.412-.587Q7 20.825 7 20h4q0 .825-.587 1.413Q9.825 22 9 22Zm-4-3v-2h8v2Zm.25-3q-1.725-1.025-2.737-2.75Q1.5 11.525 1.5 9.5q0-3.125 2.188-5.312Q5.875 2 9 2q3.125 0 5.312 2.188Q16.5 6.375 16.5 9.5q0 2.025-1.012 3.75q-1.013 1.725-2.738 2.75Z" />\r
  </svg>\r
</button>\r
\r
<button id="optcButton" class="optc-button" aria-label="ONE PIECE Treasure Cruise gallery"\r
  title="ONE PIECE Treasure Cruise gallery">\r
</button>\r
\r
<tips-dialog></tips-dialog>\r
\r
<slot></slot>\r
\r
<edit-panel></edit-panel>\r
<optc-gallery-panel></optc-gallery-panel>\r
\r
\r
<div class="loading-overlay">\r
  <luffy-logo class="loading-overlay__luffy"></luffy-logo>\r
</div>`,qs="app-container",ie="#warcriminal",Zn=document.createElement("template");Zn.innerHTML=js;var de,ue,pe,Ot,Q,fe,ge,Z,tt,jt,qt,me,be,L,Ft,C,ti,to,ei,eo,ye,$i,ii,io,et,Ut;class Fs extends HTMLElement{constructor(){super();d(this,ti);d(this,ei);d(this,ye);d(this,ii);d(this,et);d(this,de,void 0);d(this,ue,void 0);d(this,pe,void 0);d(this,Ot,void 0);d(this,Q,void 0);d(this,fe,void 0);d(this,ge,void 0);d(this,Z,void 0);d(this,tt,void 0);d(this,jt,void 0);d(this,qt,void 0);d(this,me,0);d(this,be,0);d(this,L,void 0);d(this,Ft,void 0);d(this,C,void 0);const t=this.attachShadow({mode:"open"});u(this,L,t);const n=document.createElement("style");n.textContent=Os,t.append(n,Zn.content.cloneNode(!0)),t.addEventListener("WantedPosterLoaded",()=>{g(this,ti,to).call(this)});const e=o(this,L).querySelector("slot[name=poster]");u(this,Ot,e==null?void 0:e.assignedNodes()[0]),u(this,de,o(this,L).querySelector("edit-panel")),u(this,ue,o(this,L).querySelector("optc-gallery-panel")),u(this,pe,o(this,L).querySelector("tips-dialog")),u(this,Q,o(this,L).querySelector("#uploadInput")),u(this,fe,o(this,L).querySelector("#editButton")),u(this,ge,o(this,L).querySelector("#importButton")),u(this,Z,o(this,L).querySelector("#exportButton")),u(this,tt,o(this,L).querySelector("#criminalButton")),u(this,jt,o(this,L).querySelector("#tipsButton")),u(this,qt,o(this,L).querySelector("#optcButton")),u(this,Ft,g(this,ei,eo).bind(this)),u(this,C,(r,a)=>{switch(r){case"photoUrl":g(this,et,Ut).call(this,{"photo-url":a.toString()});break;case"nameSpacing":g(this,et,Ut).call(this,{"name-spacing":a.toString()});break;case"bountySpacing":g(this,et,Ut).call(this,{"bounty-spacing":a.toString()});break;case"name":case"bounty":case"shadow":case"filter":g(this,et,Ut).call(this,{[r]:a.toString()})}}),window.addEventListener("hashchange",o(this,Ft))}connectedCallback(){u(this,be,new Date().getTime()),g(this,et,Ut).call(this,{"name-spacing":b.nameSpacing.toString(),"bounty-spacing":b.bountySpacing.toString(),shadow:b.shadow.toString(),filter:b.filter}),I("photoUrl",o(this,C)),I("name",o(this,C)),I("bounty",o(this,C)),I("nameSpacing",o(this,C)),I("bountySpacing",o(this,C)),I("shadow",o(this,C)),I("filter",o(this,C)),location.hash===ie&&g(this,ye,$i).call(this,!0),this.addEventListener("dragover",t=>{t.preventDefault()}),this.addEventListener("dragenter",()=>{this.classList.add("dragin")}),this.addEventListener("dragleave",t=>{t.relatedTarget===null&&this.classList.remove("dragin")}),this.addEventListener("drop",t=>{var r;t.preventDefault(),this.classList.remove("dragin");const n=(r=t.dataTransfer)==null?void 0:r.files[0];if(!n||!n.type.startsWith("image"))return;const e=URL.createObjectURL(n);b.photoUrl=e}),o(this,Q).addEventListener("input",()=>{const t=o(this,Q).files?o(this,Q).files[0]:null;if(!t||!t.type.startsWith("image"))return;const n=URL.createObjectURL(t);b.photoUrl=n}),o(this,fe).addEventListener("click",()=>{o(this,de).toggle()}),o(this,ge).addEventListener("click",()=>{o(this,Q).value="",o(this,Q).click()}),o(this,Z).addEventListener("click",async()=>{if(!o(this,Z).loading){o(this,Z).loading=!0;try{await o(this,Ot).export()}catch(t){console.error(t);let n="";t instanceof Error&&(n=t.message),alert(`Oops! something went wrong. ðŸ˜¢ 
 ${n}`)}finally{o(this,Z).loading=!1}}}),o(this,tt).addEventListener("click",()=>{const t=location.hash===ie;location.hash=t?"":ie}),o(this,jt).addEventListener("click",()=>{o(this,pe).toggle()}),o(this,qt).addEventListener("click",()=>{o(this,ue).toggle()}),vn.setConsumer(async t=>{const n=t[0];if(!vn.isFileHandle(n))return;const e=await n.getFile(),r=URL.createObjectURL(e);b.photoUrl=r})}disconnectedCallback(){window.removeEventListener("hashchange",o(this,Ft)),P("photoUrl",o(this,C)),P("name",o(this,C)),P("bounty",o(this,C)),P("shadow",o(this,C)),P("filter",o(this,C))}}de=new WeakMap,ue=new WeakMap,pe=new WeakMap,Ot=new WeakMap,Q=new WeakMap,fe=new WeakMap,ge=new WeakMap,Z=new WeakMap,tt=new WeakMap,jt=new WeakMap,qt=new WeakMap,me=new WeakMap,be=new WeakMap,L=new WeakMap,Ft=new WeakMap,C=new WeakMap,ti=new WeakSet,to=function(){const t=o(this,L).querySelector(".loading-overlay"),n=1e3,e=setInterval(()=>{if(!(new Date().getTime()-o(this,be)<n)){if(clearTimeout(e),t.style.transition="opacity 1s",t.style.opacity="0",setTimeout(()=>t.remove(),1e3),location.hash===ie){o(this,tt).classList.add("criminal--visible");return}setTimeout(()=>o(this,tt).classList.add("criminal--visible"),1e4)}},200)},ei=new WeakSet,eo=function(){g(this,ye,$i).call(this,location.hash===ie)},ye=new WeakSet,$i=function(t){var a;const n=o(this,L).querySelector(".blood-overlay");if(!n)return;const e=t?"https://github.com/vshymanskyy/StandWithUkraine/blob/main/docs/README.md":"https://github.com/YuskaWu/one-piece-wanted-poster",r=document.querySelector("github-corner");r.classList.toggle("gc-ua",t),r.setAttribute("href",e),this.classList.toggle("warcriminal"),n.classList.toggle("blood-overlay--visible"),o(this,tt).classList.toggle("criminal--stamp"),o(this,jt).classList.toggle("tips-button--hidden"),o(this,qt).classList.toggle("optc-button--hidden"),(a=o(this,L).querySelector(".button-container"))==null||a.classList.toggle("button-container--hidden"),t&&_i({...ne}),g(this,ii,io).call(this,t)},ii=new WeakSet,io=function(t){if(!t){clearInterval(o(this,me));return}const n=ne.photoUrls.length;let e=Math.floor(n*Math.random());_i({photoUrl:ne.photoUrls[e]}),u(this,me,window.setInterval(()=>{e=(e+1)%n,_i({photoUrl:ne.photoUrls[e]})},5e3))},et=new WeakSet,Ut=function(t){const n=Object.keys(t);for(const e of n){const r=t[e]??"";o(this,Ot).setAttribute(e,r)}};customElements.define(qs,Fs);const $s=":host{--text-shadow: .1rem .1rem .1rem rgb(0 0 0 / 50%);--element-filter: drop-shadow(2px 0 2px rgb(0 0 0 / 40%)) drop-shadow(-2px 0 2px rgb(0 0 0 / 40%)) contrast(100%) brightness(100%);--element-hover-filter: drop-shadow(3px 0 3px rgb(0 0 0 / 40%)) drop-shadow(-3px 0 3px rgb(0 0 0 / 50%)) contrast(105%) brightness(105%);--element-active-filter: drop-shadow(1px 0 2px rgb(0 0 0 / 60%)) drop-shadow(-1px 0 2px rgb(0 0 0 / 70%)) contrast(105%) brightness(105%);--slider-thumb-size: 2rem;display:block;position:fixed;top:0;left:0;transform:translate(-105%);transition:transform .2s;box-sizing:border-box;box-shadow:.1rem 0 .3rem #0000007f;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.125rem;width:18.75rem;max-width:80%;height:100%}:host(.open){transform:translate(0)}.container{display:flex;flex-direction:column;box-sizing:border-box;box-shadow:inset 0 0 .2rem .2rem #0000007f;border:.0625rem solid rgb(180 150 81);background:url("+new URL("../images/wood-bg.png",import.meta.url).href+") repeat-y center top;background-size:100% auto;width:100%;height:100%}.field-container{display:flex;flex:1 0;flex-direction:column;gap:2rem;padding:1rem;overflow-x:hidden;overflow-y:auto}.action-container{display:flex;justify-content:space-around;align-items:center;padding:0 1rem;height:4rem}.wood-button{display:flex;justify-content:center;align-items:center;filter:var(--element-filter);transition:.05s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/wood-button.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;width:6rem;height:2rem;color:#fff;font-size:1rem;font-family:serif;text-shadow:var(--text-shadow)}.wood-button:hover{filter:var(--element-hover-filter)}.close-button{filter:var(--element-filter);transition:.1s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/close-button.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;width:2rem;height:2rem}.close-button:hover{filter:var(--element-hover-filter)}.wood-button:active,.close-button:active{transform:translateY(1px);filter:var(--element-active-filter)}.text-input{filter:var(--element-filter);outline:none;border:0;background-image:url("+new URL("../images/input-frame.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding:0 1rem;color:var(--dark-text-color);font-size:2rem;line-height:4rem;font-family:serif;text-align:center}.text-input::-moz-placeholder{color:#0000004d;font-size:2rem;text-shadow:none}.text-input::placeholder{color:#0000004d;font-size:2rem;text-shadow:none}.slider{display:flex;flex-direction:column;align-items:center}.slider__label{display:inline-flex;position:relative;justify-content:center;align-items:center;box-sizing:border-box;margin:0;background-image:url("+new URL("../images/scroll-paper.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding-bottom:.1rem;padding-left:.5rem;width:11rem;height:2rem;color:var(--dark-text-color);font-size:.75rem}.slider__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background:transparent;width:100%;height:2.5rem}.slider__input::-webkit-slider-runnable-track{box-shadow:0 0 3px 1px #000c;border:1px solid rgb(0 0 0 / 80%);border-radius:.1rem;background-color:var(--theme-color);height:.75rem}.slider__input::-moz-range-track{box-shadow:0 0 3px 1px #000c;border:1px solid rgb(0 0 0 / 80%);border-radius:.1rem;background-color:var(--theme-color);height:.75rem}.slider__input::-webkit-slider-thumb{position:relative;top:-.75rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;filter:var(--element-filter);-webkit-transition:filter .05s;transition:filter .05s;cursor:pointer;border:0;background:url("+new URL("../images/slider-thumb.png",import.meta.url).href+");background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;width:var(--slider-thumb-size);height:var(--slider-thumb-size)}.slider__input::-webkit-slider-thumb:hover{filter:var(--element-hover-filter)}.slider__input::-moz-range-thumb{position:relative;top:-.75rem;filter:var(--element-filter);cursor:pointer;border:0;background:url("+new URL("../images/slider-thumb.png",import.meta.url).href+`);background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;width:var(--slider-thumb-size);height:var(--slider-thumb-size)}::-moz-selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:#f5d58d}::-webkit-scrollbar-corner{background:transparent}
`,Hs=`<div class="container">\r
  <div class="field-container">\r
    <input id="nameInput" class="text-input" placeholder="Name" />\r
    <input id="bountyInput" class="text-input" placeholder="Bounty" />\r
\r
    <div class="slider">\r
      <label for="nameSpacingSlider" class="slider__label">Name Text Spacing</label>\r
      <input id="nameSpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="bountySpacingSlider" class="slider__label">Bounty Text Spacing</label>\r
      <input id="bountySpacingSlider" class="slider__input" type="range" min="0" max="3">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="shadowSlider" class="slider__label">Shadow</label>\r
      <input id="shadowSlider" class="slider__input" type="range" min="0" max="20">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="blurSlider" class="slider__label">Blur</label>\r
      <input id="blurSlider" class="slider__input" type="range" min="0" max="10">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="brightnessSlider" class="slider__label">Brightness</label>\r
      <input id="brightnessSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="contrastSlider" class="slider__label">Contrast</label>\r
      <input id="contrastSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="grayscaleSlider" class="slider__label">Grayscale</label>\r
      <input id="grayscaleSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="hueRotateSlider" class="slider__label">Hue Rotate</label>\r
      <input id="hueRotateSlider" class="slider__input" type="range" min="0" max="360">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="saturateSlider" class="slider__label">Saturate</label>\r
      <input id="saturateSlider" class="slider__input" type="range" min="0" max="200">\r
    </div>\r
\r
    <div class="slider">\r
      <label for="sepiaSlider" class="slider__label">Sepia</label>\r
      <input id="sepiaSlider" class="slider__input" type="range" min="0" max="100">\r
    </div>\r
  </div>\r
  <div class="action-container">\r
    <button id="closeButton" class="close-button" aria-label="Close edit panel button" title="Close"></button>\r
    <button id="resetButton" class="wood-button" aria-label="Reset button"\r
      title="Reset to default settings.">RESET</button>\r
  </div>\r
</div>`,Ws="edit-panel",no=document.createElement("template");no.innerHTML=Hs;var it,nt,ot,st,rt,at,ct,lt,ht,dt,ut,pt,we,xe,$t,k;class Ds extends HTMLElement{constructor(){super();d(this,it,void 0);d(this,nt,void 0);d(this,ot,void 0);d(this,st,void 0);d(this,rt,void 0);d(this,at,void 0);d(this,ct,void 0);d(this,lt,void 0);d(this,ht,void 0);d(this,dt,void 0);d(this,ut,void 0);d(this,pt,void 0);d(this,we,void 0);d(this,xe,void 0);d(this,$t,void 0);d(this,k,void 0);const t=this.attachShadow({mode:"open"}),n=document.createElement("style");n.textContent=$s,t.append(n,no.content.cloneNode(!0)),u(this,it,t.querySelector("#nameInput")),u(this,nt,t.querySelector("#bountyInput")),u(this,ot,t.querySelector("#nameSpacingSlider")),u(this,st,t.querySelector("#bountySpacingSlider")),u(this,rt,t.querySelector("#shadowSlider")),u(this,at,t.querySelector("#blurSlider")),u(this,ct,t.querySelector("#brightnessSlider")),u(this,lt,t.querySelector("#contrastSlider")),u(this,ht,t.querySelector("#grayscaleSlider")),u(this,dt,t.querySelector("#hueRotateSlider")),u(this,ut,t.querySelector("#saturateSlider")),u(this,pt,t.querySelector("#sepiaSlider")),u(this,we,t.querySelector("#closeButton")),u(this,xe,t.querySelector("#resetButton")),u(this,k,(e,r)=>{switch(r=r.toString(),e){case"name":o(this,it).value=r;break;case"bounty":o(this,nt).value=r;break;case"nameSpacing":o(this,ot).value=r;break;case"bountySpacing":o(this,st).value=r;break;case"shadow":o(this,rt).value=r;break;case"blur":o(this,at).value=r;break;case"brightness":o(this,ct).value=r;break;case"contrast":o(this,lt).value=r;break;case"grayscale":o(this,ht).value=r;break;case"hueRotate":o(this,dt).value=r;break;case"saturate":o(this,ut).value=r;break;case"sepia":o(this,pt).value=r;break}}),u(this,$t,e=>{var a;const r=e.composedPath()[0];r instanceof Node&&((a=this.shadowRoot)!=null&&a.contains(r))||this.classList.contains("open")&&this.toggle()})}toggle(){this.classList.toggle("open")}connectedCallback(){window.addEventListener("pointerdown",o(this,$t)),I("name",o(this,k)),I("bounty",o(this,k)),I("nameSpacing",o(this,k)),I("bountySpacing",o(this,k)),I("shadow",o(this,k)),I("blur",o(this,k)),I("saturate",o(this,k)),I("contrast",o(this,k)),I("grayscale",o(this,k)),I("hueRotate",o(this,k)),I("hueRotate",o(this,k)),I("sepia",o(this,k)),o(this,it).value=b.name,o(this,nt).value=b.bounty.toString(),o(this,ot).value=b.nameSpacing.toString(),o(this,st).value=b.bountySpacing.toString(),o(this,rt).value=b.shadow.toString(),o(this,at).value=b.blur.toString(),o(this,ct).value=b.brightness.toString(),o(this,lt).value=b.contrast.toString(),o(this,ht).value=b.grayscale.toString(),o(this,dt).value=b.hueRotate.toString(),o(this,ut).value=b.saturate.toString(),o(this,pt).value=b.sepia.toString(),o(this,it).addEventListener("input",()=>b.name=o(this,it).value),o(this,nt).addEventListener("input",()=>b.bounty=o(this,nt).value),o(this,ot).addEventListener("input",()=>b.nameSpacing=parseInt(o(this,ot).value)),o(this,st).addEventListener("input",()=>b.bountySpacing=parseInt(o(this,st).value)),o(this,rt).addEventListener("input",()=>b.shadow=parseInt(o(this,rt).value)),o(this,at).addEventListener("input",()=>b.blur=parseInt(o(this,at).value)),o(this,ct).addEventListener("input",()=>b.brightness=parseInt(o(this,ct).value)),o(this,lt).addEventListener("input",()=>b.contrast=parseInt(o(this,lt).value)),o(this,ht).addEventListener("input",()=>b.grayscale=parseInt(o(this,ht).value)),o(this,dt).addEventListener("input",()=>b.hueRotate=parseInt(o(this,dt).value)),o(this,ut).addEventListener("input",()=>b.saturate=parseInt(o(this,ut).value)),o(this,pt).addEventListener("input",()=>b.sepia=parseInt(o(this,pt).value)),o(this,we).addEventListener("click",()=>this.toggle()),o(this,xe).addEventListener("click",()=>Ms({photoUrl:b.photoUrl}))}disconnectedCallback(){window.removeEventListener("pointerdown",o(this,$t)),P("name",o(this,k)),P("bounty",o(this,k)),P("shadow",o(this,k)),P("blur",o(this,k)),P("saturate",o(this,k)),P("contrast",o(this,k)),P("grayscale",o(this,k)),P("hueRotate",o(this,k)),P("hueRotate",o(this,k)),P("sepia",o(this,k))}}it=new WeakMap,nt=new WeakMap,ot=new WeakMap,st=new WeakMap,rt=new WeakMap,at=new WeakMap,ct=new WeakMap,lt=new WeakMap,ht=new WeakMap,dt=new WeakMap,ut=new WeakMap,pt=new WeakMap,we=new WeakMap,xe=new WeakMap,$t=new WeakMap,k=new WeakMap;customElements.define(Ws,Ds);const Sn=""+new URL("circle-button-78c4b94b.png",import.meta.url).href,Gs=`:host{--filter: drop-shadow(.125rem 0 .125rem rgb(0 0 0 / 40%)) drop-shadow(-.125rem 0 .125rem rgb(0 0 0 / 40%)) contrast(100%) brightness(100%);--hover-filter: drop-shadow(.1875rem 0 .1875rem rgb(0 0 0 / 40%)) drop-shadow(-.1875rem 0 .1875rem rgb(0 0 0 / 50%)) contrast(105%) brightness(105%);--active-filter: drop-shadow(.0625rem 0 .125rem rgb(0 0 0 / 60%)) drop-shadow(-.0625rem 0 .125rem rgb(0 0 0 / 70%)) contrast(105%) brightness(105%);display:flex;justify-content:center;align-items:center;filter:var(--filter);transition:.1s;cursor:pointer;outline:none;border:0;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;width:2rem;height:2rem;color:#fff}:host(:hover){filter:var(--hover-filter)}:host(:active){transform:translateY(.0625rem);filter:var(--active-filter)}iconify-icon{pointer-events:none}
`,Qs='<iconify-icon part="icon"></iconify-icon>',Ys="icon-button",Xs=["icon","mode","flip","height","width","inline","preserveAspectRatio","rotate"],oo=document.createElement("template");oo.innerHTML=Qs;var ve;class Vs extends HTMLElement{constructor(){var e;super();d(this,ve,void 0);const t=this.attachShadow({mode:"open"}),n=document.createElement("style");n.textContent=Gs,t.append(n,oo.content.cloneNode(!0)),(e=t.querySelector("img"))==null||e.setAttribute("src",Sn),u(this,ve,t.querySelector("iconify-icon"))}static get observedAttributes(){return Xs}connectedCallback(){this.style.backgroundImage=`url(${Sn})`}attributeChangedCallback(t,n,e){o(this,ve).setAttribute(t,e)}}ve=new WeakMap;customElements.define(Ys,Vs);const Ks=`:host{position:relative}.bottom-img{display:block;max-width:100%;max-height:100%}.top-img{position:absolute;top:0;left:0;-webkit-mask-image:linear-gradient(90deg,rgb(0 0 0 / 0%) 35%,rgb(255 255 255 / 100%) 50%,rgb(0 0 0 / 0%) 65%);mask-image:linear-gradient(90deg,rgb(0 0 0 / 0%) 35%,rgb(255 255 255 / 100%) 50%,rgb(0 0 0 / 0%) 65%);-webkit-mask-size:300% 100%;mask-size:300% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;filter:brightness(1.8);animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;animation-name:flicker;max-width:100%;max-height:100%}@keyframes flicker{0%{-webkit-mask-position:150% 0%;mask-position:150% 0%}30%{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}to{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}}
`,Js=`<img class="bottom-img" src="./images/luffy.png" alt="luffy avatar" />\r
<img class="top-img" src="./images/luffy.png" alt="luffy avatar" />`,Zs="luffy-logo",so=document.createElement("template");so.innerHTML=Js;class tr extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=Ks,s.append(t,so.content.cloneNode(!0))}}customElements.define(Zs,tr);const er=":host{--text-shadow: .1rem .1rem .1rem rgb(0 0 0 / 50%);--element-filter: drop-shadow(2px 0 2px rgb(0 0 0 / 40%)) drop-shadow(-2px 0 2px rgb(0 0 0 / 40%)) contrast(100%) brightness(100%);--element-hover-filter: drop-shadow(3px 0 3px rgb(0 0 0 / 40%)) drop-shadow(-3px 0 3px rgb(0 0 0 / 50%)) contrast(105%) brightness(105%);--element-active-filter: drop-shadow(1px 0 2px rgb(0 0 0 / 60%)) drop-shadow(-1px 0 2px rgb(0 0 0 / 70%)) contrast(105%) brightness(105%);display:block;position:fixed;top:0;right:0;transform:translate(105%);transition:transform .2s;box-sizing:border-box;box-shadow:.1rem 0 .3rem #0000007f;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.125rem;width:28rem;max-width:80%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host(.open){transform:translate(0)}.container{box-sizing:border-box;container:panel / inline-size;box-shadow:inset 0 0 .2rem .2rem #0000007f;border:.0625rem solid rgb(180 150 81);background:url("+new URL("../images/wood-bg.png",import.meta.url).href+") repeat-y center top;background-size:100% auto;width:100%;height:100%}.container>*{height:100%}.loading,.error{display:flex;justify-content:center;align-items:center;padding:1rem;color:#fff}.loading{font-size:6rem}.content{display:grid;grid-template-rows:auto 1fr auto}.header{display:flex;align-items:center;gap:1rem;padding:.5rem 1rem}.image-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;padding:1rem;overflow-y:auto}.image-grid>img{filter:drop-shadow(0 0 .15rem rgba(0 0 0 / 80%));cursor:pointer;background-color:#fff;max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.pagination{display:flex;align-items:center;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.5rem}.page-number-wrapper{display:flex;flex-grow:1;justify-content:space-evenly}.page-button,.navigate-button{display:flex;justify-content:center;align-items:center;transition:.2s;border:0;border-radius:.125em;background-color:transparent;padding:0 .25em;min-width:1.25em;min-height:1.25em;color:#3b230e;font-size:1em}.navigate-button{position:relative;font-size:1.6em}.navigate-button[disabled]{color:#3b230e7f}.navigate-button iconify-icon{position:absolute;pointer-events:none}.page-button:not([disabled]),.navigate-button:not([disabled]){cursor:pointer}.page-button:not([disabled]):hover,.navigate-button:not([disabled]):hover{background-color:#3b230e33}.page-button--active{background-color:#3b230e;color:#fff}@media (min-width: 430px){.pagination{gap:.5rem;font-size:1.25rem}}.search-input{filter:var(--element-filter);margin-right:auto;outline:none;border:0;background-image:url("+new URL("../images/input-frame.png",import.meta.url).href+`);background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding:0 1rem;width:50%;color:var(--dark-text-color);font-size:1.6rem;line-height:2em;font-family:serif;text-align:center}.search-input::-moz-placeholder{color:#0000004d;text-shadow:none}.search-input::placeholder{color:#0000004d;text-shadow:none}#orderButton::part(icon){transition:.2s transform}#orderButton[descending]::part(icon){transform:scaleX(-1) rotate(180deg)}:host([loading]) .content{display:none}:host([loading]) .error{display:none}:host([error]) .content{display:none}:host([error]) .loading{display:none}::-moz-selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:#f5d58d}::-webkit-scrollbar-corner{background:transparent}
`,ir=`<div class="container">\r
  <div class="content">\r
    <div class="header">\r
      <input id="searchInput" type="text" class="search-input" placeholder="Name or ID">\r
      <icon-button id="orderButton" icon="tdesign:order-ascending"></icon-button>\r
      <icon-button id="closeButton" icon="ep:close-bold"></icon-button>\r
    </div>\r
    <div id="imageGrid" class="image-grid"></div>\r
    <div class="pagination">\r
      <button id="preButton" class="navigate-button">\r
        <iconify-icon icon="ic:round-navigate-before"></iconify-icon>\r
      </button>\r
      <div id="pageNumberWrapper" class="page-number-wrapper"></div>\r
      <button id="nextButton" class="navigate-button">\r
        <iconify-icon icon="ic:round-navigate-next"></iconify-icon>\r
      </button>\r
    </div>\r
  </div>\r
  <div class="loading"><iconify-icon icon="eos-icons:loading"></iconify-icon></div>\r
  <div id="error" class="error">Error</div>\r
</div>`,nr="optc-gallery-panel",ro=document.createElement("template");ro.innerHTML=ir;var Se,F,Ht,Wt,ke,It,Et,Lt,Tt,Ie,Dt,Gt,Ct,A,$,ni,ao,oi,co,Y,kt;class or extends HTMLElement{constructor(){super();d(this,ni);d(this,oi);d(this,Y);d(this,Se,0);d(this,F,null);d(this,Ht,void 0);d(this,Wt,void 0);d(this,ke,void 0);d(this,It,void 0);d(this,Et,void 0);d(this,Lt,void 0);d(this,Tt,void 0);d(this,Ie,void 0);d(this,Dt,void 0);d(this,Gt,"ascending");d(this,Ct,10);d(this,A,1);d(this,$,0);const t=this.attachShadow({mode:"open"}),n=document.createElement("style");n.textContent=er,t.append(n,ro.content.cloneNode(!0)),u(this,Ht,t.querySelector("#searchInput")),u(this,Wt,t.querySelector("#orderButton")),u(this,ke,t.querySelector("#closeButton")),u(this,It,t.querySelector("#imageGrid")),u(this,Et,t.querySelector("#pageNumberWrapper")),u(this,Lt,t.querySelector("#preButton")),u(this,Tt,t.querySelector("#nextButton")),u(this,Ie,t.querySelector("#error")),u(this,Dt,e=>{var a;const r=e.composedPath()[0];r instanceof Node&&((a=this.shadowRoot)!=null&&a.contains(r))||this.classList.contains("open")&&this.toggle()})}async init(){this.setAttribute("loading","");try{let n=await(await fetch("https://raw.githubusercontent.com/optc-db/optc-db.github.io/master/common/data/families.js")).text();n=n.replace("(function () {","").replace("window.families =","const families = ").replace("const calcGhostStartIDStart = 5000;","").replace(/const ghostFamilies(.|\n)*\}\);/,"").replace("})();","export default families");const e=new Blob([n],{type:"text/javascript"}),r=URL.createObjectURL(e),{default:a}=await Rn(()=>import(r),[],import.meta.url);u(this,F,a),g(this,Y,kt).call(this)}catch(t){this.setAttribute("error","");let n="Faild to get character info.";t instanceof Error&&(n+=`
`+t.message),o(this,Ie).innerText=n}finally{this.removeAttribute("loading")}}get ids(){if(!o(this,F))return[];const t=o(this,Ht).value.toLowerCase().trim();if(!t)return Array.from(Object.keys(o(this,F)));const n=[];for(const e in o(this,F)){if(e.includes(t)){n.push(e);continue}o(this,F)[e].some(c=>c.toLocaleLowerCase().includes(t))&&n.push(e)}return n}toggle(){!o(this,F)&&!this.classList.contains("open")&&this.init(),this.classList.toggle("open")}connectedCallback(){window.addEventListener("pointerdown",o(this,Dt)),o(this,Ht).addEventListener("input",()=>g(this,ni,ao).call(this)),o(this,Wt).addEventListener("click",()=>{u(this,Gt,o(this,Gt)==="ascending"?"descending":"ascending"),o(this,Wt).toggleAttribute("descending"),g(this,Y,kt).call(this)}),o(this,ke).addEventListener("click",()=>this.toggle()),o(this,It).addEventListener("click",t=>{const n=t.target;n instanceof Image&&(b.photoUrl=n.src,b.name=n.dataset.name??"",this.toggle())}),o(this,Lt).addEventListener("click",()=>{o(this,A)!==1&&(De(this,A)._--,g(this,Y,kt).call(this))}),o(this,Tt).addEventListener("click",()=>{o(this,A)!==o(this,$)&&(De(this,A)._++,g(this,Y,kt).call(this))})}disconnectedCallback(){window.removeEventListener("pointerdown",o(this,Dt))}}Se=new WeakMap,F=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,ke=new WeakMap,It=new WeakMap,Et=new WeakMap,Lt=new WeakMap,Tt=new WeakMap,Ie=new WeakMap,Dt=new WeakMap,Gt=new WeakMap,Ct=new WeakMap,A=new WeakMap,$=new WeakMap,ni=new WeakSet,ao=function(){clearTimeout(o(this,Se)),u(this,Se,setTimeout(()=>{u(this,A,1),g(this,Y,kt).call(this)},500))},oi=new WeakSet,co=function(){if(o(this,Et).innerHTML="",o(this,$)===0){o(this,Lt).disabled=!0,o(this,Tt).disabled=!0;return}let t=1;const n=new Set([1,o(this,$),o(this,A)]),e=Math.min(o(this,$),5);for(;n.size<e;){const a=Math.max(o(this,A)-t,1),c=Math.min(o(this,A)+t,o(this,$));n.add(a),n.add(c),t++}const r=Array.from(n.values()).sort((a,c)=>a-c);r.forEach((a,c)=>{const l=document.createElement("button");l.innerText=a.toString(),l.classList.add("page-button"),l.addEventListener("click",()=>{u(this,A,a),g(this,Y,kt).call(this)}),o(this,A)===a&&(l.classList.add("page-button--active"),l.toggleAttribute("disabled")),o(this,Et).appendChild(l);const h=c+1;if(h<r.length&&r[h]-a>1){const p=document.createElement("button");p.classList.add("page-button"),p.toggleAttribute("disabled"),p.innerText="...",o(this,Et).appendChild(p)}}),o(this,Lt).toggleAttribute("disabled",o(this,A)===1),o(this,Tt).toggleAttribute("disabled",o(this,A)===o(this,$))},Y=new WeakSet,kt=function(){o(this,It).innerHTML="";const t=this.ids;if(u(this,$,Math.ceil(t.length/o(this,Ct))),g(this,oi,co).call(this),o(this,$)===0)return;const n=(o(this,A)-1)*o(this,Ct);(o(this,Gt)==="ascending"?t.slice(n,n+o(this,Ct)):t.reverse().slice(n,n+o(this,Ct))).forEach(r=>{const a=parseInt(r);if(isNaN(a))return;const c=Math.floor(a/1e3),l=(Math.floor(a%1e3/100)*100).toString().padStart(3,"0"),h=a.toString().padStart(4,"0")+".png",p=`https://optc-db.github.io/api/images/full/transparent/${c}/${l}/${h}`,f=o(this,F)?o(this,F)[r].join(", ").toUpperCase():"",m=new Image;m.src=p,m.loading="lazy",m.dataset.id=r,m.dataset.name=f,o(this,It).appendChild(m)})};customElements.define(nr,or);const sr=":host{display:block;position:fixed;top:0;left:0;visibility:hidden;opacity:0;filter:drop-shadow(0 0 5px rgb(0 0 0 / 60%));transition:.2s;box-sizing:border-box;margin-top:3rem;margin-left:.5rem;background-image:url("+new URL("../images/tips-paper.png",import.meta.url).href+`);background-size:contain;background-repeat:no-repeat;padding:1rem .8rem 1rem 1rem;width:17.62rem;max-width:100vw;height:26.33rem;color:var(--dark-text-color);font-size:.8rem}:host([open]){visibility:visible;opacity:1}.content{height:100%;overflow:auto}.content h3{border-bottom:1px solid var(--dark-text-color)}.content *{margin-block-start:.5em;margin-block-end:1em}a{position:relative;outline:none;text-decoration:none}a:after{position:absolute;bottom:0;left:0;border-bottom:.2rem solid rgb(211 255 77 / 50%);width:100%;height:1px;content:" "}a:link{color:#009637}a:visited{color:#558f6a}::-webkit-scrollbar{width:.1rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:var(--dark-text-color)}::-webkit-scrollbar-corner{background:transparent}
`,rr=`<div class="content">\r
\r
  <h3>Import image as the wanted photo</h3>\r
  <p>\r
    Click <b>IMPORT</b> button to choose an image from your device storage, or drag and drop the image anywhere on this\r
    page.\r
  </p>\r
\r
  <h3>Adjust the position of the photo</h3>\r
  <p>\r
    After importing the image, click(or touch) and drag the photo to adjust the position.\r
  </p>\r
\r
  <h3>Resize the imported photo</h3>\r
  <p>\r
    - Move the cursor over the photo, and scroll the mouse wheel to zoom in or zoom out.\r
  </p>\r
  <p>\r
    - Move the cursor over the red border around the photo and drag it to resize.\r
  </p>\r
  <p>\r
    - For the touch screen device, touch two fingers on the top of the photo, and move them apart to zoom in, or\r
    together to\r
    zoom out.\r
  </p>\r
\r
  <h3>Name and Bounty</h3>\r
  <P>\r
    Click <b>EDIT</b> button to open the edit panel, the first\r
    input field in the edit panel is name, and the second input field is bounty.\r
  </P>\r
  <p>\r
    You can input any text for both of them, however if you input number in the bounty field, the Belly sign will be\r
    rendered in the front of the bounty text, and decimal comma will automatically insert in the text.\r
  </p>\r
\r
  <h3>Install this app on your device</h3>\r
  <p>\r
    <b>NOTE: For now, only Chrome and Edge support this feature.</b>\r
  </p>\r
  <p>\r
    This web application support <a href="https://en.wikipedia.org/wiki/Progressive_web_app" target="_blank">PWA</a>,\r
    which means you can\r
    install it as a native app on your device, and launch it directly without opening the browser.\r
\r
  </p>\r
  <p>\r
    Check out the <a href="https://support.google.com/chrome/answer/9658361?hl=en&co=GENIE.Platform%3DDesktop"\r
      target="_blank">installation guide</a>.</p>\r
\r
</div>`,ar="tips-dialog",lo=document.createElement("template");lo.innerHTML=rr;class cr extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=sr,s.append(t,lo.content.cloneNode(!0))}toggle(){this.hasAttribute("open")?this.removeAttribute("open"):this.setAttribute("open","")}}customElements.define(ar,cr);const lr=`:host{display:inline-flex;position:relative;justify-content:center;filter:contrast(100%) brightness(100%) drop-shadow(1px 1px 1px rgb(0 0 0 / 50%)) drop-shadow(-1px -1px 1px rgb(0 0 0 / 50%));transition:.05s;cursor:pointer;outline:none;background-color:transparent;width:4.25rem;height:5rem}:host(:hover:not([loading])){filter:contrast(105%) brightness(105%) drop-shadow(1px 4px 3px rgb(0 0 0 / 50%)) drop-shadow(-1px 0 3px rgb(0 0 0 / 50%))}:host(:active:not([loading])){transform:translateY(1px);filter:contrast(105%) brightness(105%) drop-shadow(1px 2px 1px rgb(0 0 0 / 60%)) drop-shadow(-1px 0 1px rgb(0 0 0 / 60%))}.img{position:absolute;max-width:100%;max-height:100%}.icon{display:flex;position:absolute;top:21%;justify-content:center;align-items:center;box-sizing:border-box;width:82%;height:44%;color:#513721;font-size:1.5rem}iconify-icon{display:none}:host([loading]){cursor:wait}:host([loading]) iconify-icon{display:inline}.text{display:flex;position:absolute;bottom:12%;justify-content:center;align-items:center;box-sizing:border-box;width:85%;height:20%;overflow:hidden;color:#513721;font-weight:900;font-size:.9rem;font-family:Scheherazade New,serif;text-align:justify;white-space:nowrap}
`,hr=`<img class="img" alt="button image" />\r
<div class="icon">\r
  <slot name="icon"></slot>\r
  <iconify-icon icon="eos-icons:loading"></iconify-icon>\r
</div>\r
<span class="text">\r
  <slot></slot>\r
</span>`,dr=""+new URL("wanted-c2a6dd7a.png",import.meta.url).href,ur="wanted-button",pr=["font-size"],ho=document.createElement("template");ho.innerHTML=hr;var Ee,Le;class fr extends HTMLElement{constructor(){var e;super();d(this,Ee,void 0);d(this,Le,void 0);const t=this.attachShadow({mode:"open"});u(this,Ee,t);const n=document.createElement("style");n.textContent=lr,t.append(n,ho.content.cloneNode(!0)),(e=t.querySelector("img"))==null||e.setAttribute("src",dr),u(this,Le,t.querySelector("span.text"))}static get observedAttributes(){return pr}set loading(t){const n=o(this,Ee).querySelector("slot[name=icon]");n&&(n.style.display=t?"none":"contents"),t?this.setAttribute("loading",""):this.removeAttribute("loading")}get loading(){return this.hasAttribute("loading")}attributeChangedCallback(t,n,e){switch(t){case"font-size":o(this,Le).style.fontSize=e;break}}}Ee=new WeakMap,Le=new WeakMap;customElements.define(ur,fr);const gr=""+new URL("belly-af8e0dab.png",import.meta.url).href,mr=""+new URL("one-piece-wanted-ed269d97.png",import.meta.url).href,Pi={imageUrl:mr,bellyImageUrl:gr,photoPosition:{x:74,y:252,width:638,height:484},namePosition:{x:87,y:826,width:586,height:114},bountyInfo:{x:82,y:958,width:592,height:85,bellyMarginRight:18,fontSize:70},boundaryOffset:{left:10,right:10,top:10,bottom:10}},br=`:host{display:block;width:100%;height:100%;touch-action:none}.container{display:flex;position:relative;justify-content:center;align-items:center;box-sizing:border-box;width:100%;height:100%}
`;function Ze(i){return new Promise((s,t)=>{const n=new Image;n.setAttribute("crossorigin","anonymous"),n.onload=()=>s(n),n.onerror=t,n.src=i})}function tn(i,s,t,n){const e=i/t,r=s/n;return Math.min(r,e)}class en{constructor(s){z(this,"x",0);z(this,"y",0);z(this,"width",0);z(this,"height",0);z(this,"ctx");this.ctx=s}scale(s){this.x=this.x*s,this.y=this.y*s,this.width=this.width*s,this.height=this.height*s}}var Qt,Yt,si,po;class uo extends en{constructor(){super(...arguments);d(this,si);d(this,Qt,"");d(this,Yt,0);z(this,"formattedText","");z(this,"align","center");z(this,"baseline","top");z(this,"fontSize",0)}set text(t){u(this,Qt,t),this.formattedText=this.formatText(t,o(this,Yt))}get text(){return o(this,Qt)}set spacing(t){u(this,Yt,t),this.formattedText=this.formatText(o(this,Qt),t)}get spacing(){return o(this,Yt)}formatSpacing(t,n){let e="";for(let r=0;r<n;r++)e+=" ";return Array.from(t).join(e)}formatText(t,n=0){return this.formatSpacing(t,n)}getTextActualHeight(t){const{actualBoundingBoxAscent:n,actualBoundingBoxDescent:e}=this.ctx.measureText(t);return n+e}beforeRenderText(){}render(){this.ctx.save(),this.ctx.textAlign=this.align,this.ctx.textBaseline=this.baseline;const{x:t,y:n,maxWidth:e}=this.beforeRenderText()??{};g(this,si,po).call(this,t,n,e),this.ctx.restore()}}Qt=new WeakMap,Yt=new WeakMap,si=new WeakSet,po=function(t=this.x,n=this.y,e=this.width){this.ctx.fillStyle="rgba(0,0,0,0.78)",this.ctx.globalCompositeOperation="soft-light",this.ctx.fillText(this.formattedText,t,n,e),this.ctx.fillText(this.formattedText,t,n,e),this.ctx.fillText(this.formattedText,t,n,e),this.ctx.fillStyle="rgba(84,60,48,1)",this.ctx.globalCompositeOperation="color",this.ctx.fillText(this.formattedText,t,n,e)};var X,ri,ft,Xt,Te;class kn extends uo{constructor(){super(...arguments);d(this,X,!0);d(this,ri,new Intl.NumberFormat);d(this,ft,null);d(this,Xt,1);d(this,Te,0)}async loadBellyImage(t){try{u(this,ft,await Ze(t))}catch(n){throw console.error(n),new Error("Failed to init bounty.")}}setBountyInfo(t,n){const{x:e,y:r,width:a,height:c,bellyMarginRight:l,fontSize:h}=t;this.x=e,this.y=r,this.width=a,this.height=c,this.fontSize=h,u(this,Te,l),u(this,Xt,n)}formatText(t,n=0){const e=Number.parseFloat(t);if(Number.isNaN(e))return u(this,X,!1),this.formatSpacing(t,n);u(this,X,!0);const r=o(this,ri).format(e)+"-";return this.formatSpacing(r,n)}beforeRenderText(){if(!o(this,ft))return;const t=o(this,ft).width*o(this,Xt),n=o(this,ft).height*o(this,Xt);this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font=o(this,X)?`600 ${this.fontSize*.75}px 'Vertiky'`:`900 ${this.fontSize}px 'Scheherazade New', serif`;const e=this.x+this.width/2,r=o(this,X)?t+o(this,Te):0,a=this.getTextActualHeight(this.formattedText);let c=(this.height-a)/2;o(this,X)&&(c*=.818);const l=e+r/2,h=this.y+c,p=this.width-r;if(o(this,X)){const f=Math.min(this.ctx.measureText(this.formattedText).width,p),m=e-r/2-f/2;this.ctx.globalCompositeOperation="darken",this.ctx.drawImage(o(this,ft),m,this.y,t,n)}return{x:l,y:h,maxWidth:p}}}X=new WeakMap,ri=new WeakMap,ft=new WeakMap,Xt=new WeakMap,Te=new WeakMap;var ai;class In extends uo{constructor(){super(...arguments);d(this,ai,1.6)}setPosition(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.fontSize=this.height*o(this,ai)}beforeRenderText(){this.ctx.font=`700 ${this.fontSize}px 'Scheherazade New', serif`;const t=this.getTextActualHeight(this.formattedText),n=this.height/t,e=(t-this.height)/2;this.ctx.font=`700 ${Math.floor(this.fontSize*n)}px 'Scheherazade New', serif`;const r=this.x+this.width/2,a=this.y+e;return{x:r,y:a,maxWidth:this.width}}}ai=new WeakMap;const yr=""+new URL("paper-6a3dae0b.png",import.meta.url).href,En={x:0,y:0,width:0,height:0};var gt,H,Vt,B,Ce,At,ci,fo;class Ln extends en{constructor(){super(...arguments);d(this,ci);z(this,"filter","");d(this,gt,new Map);d(this,H,null);d(this,Vt,null);d(this,B,{...En});d(this,Ce,{...En});d(this,At,{left:0,right:0,top:0,bottom:0})}async init(t,n){try{this.setBoundary(t,n);const e=await Ze(yr);u(this,Vt,this.ctx.createPattern(e,"repeat"))}catch(e){throw console.error(e),new Error("Failed to create fill pattern.")}}async loadImage(t){var n;if(t)try{u(this,H,await Ze(t)),g(this,ci,fo).call(this),(n=o(this,gt).get("imageloaded"))==null||n.forEach(e=>e())}catch(e){throw console.error(e),new Error("Failed to load photo image.")}}scale(t){super.scale(t),this.updateRenderPosition()}setBoundary(t,n){u(this,B,{...t}),u(this,At,{...n})}updateRenderPosition(){if(!o(this,H))return;const t=tn(this.width,this.height,o(this,H).width,o(this,H).height),n=o(this,H).width*t,e=o(this,H).height*t,r=this.x+(this.width-n)/2,a=this.y+(this.height-e)/2;u(this,Ce,{x:r,y:a,width:n,height:e})}on(t,n){var e;o(this,gt).has(t)||o(this,gt).set(t,[]),(e=o(this,gt).get(t))==null||e.push(n)}off(t,n){const e=o(this,gt).get(t);if(!e)return;const r=e.findIndex(a=>a===n);e.splice(r,1)}render(){if(this.ctx.save(),this.ctx.fillStyle=o(this,Vt)?o(this,Vt):"none",this.ctx.fillRect(o(this,B).x,o(this,B).y,o(this,B).width,o(this,B).height),!o(this,H)){this.ctx.restore();return}const{x:t,y:n,width:e,height:r}=o(this,Ce);this.ctx.filter=this.filter,this.ctx.drawImage(o(this,H),t,n,e,r);const{left:a,right:c,top:l,bottom:h}=o(this,At);t<=a&&this.ctx.clearRect(0,n,a,r),n<=l&&this.ctx.clearRect(t,0,e,l),t+e>this.ctx.canvas.domWidth-c&&this.ctx.clearRect(this.ctx.canvas.domWidth-c,n,c,r),n+r>this.ctx.canvas.domHeight-h&&this.ctx.clearRect(t,this.ctx.canvas.domHeight-h,e,h),this.ctx.restore()}}gt=new WeakMap,H=new WeakMap,Vt=new WeakMap,B=new WeakMap,Ce=new WeakMap,At=new WeakMap,ci=new WeakSet,fo=function(){this.x=o(this,B).x,this.y=o(this,B).y,this.width=o(this,B).width,this.height=o(this,B).height,u(this,At,{...o(this,At)}),u(this,B,{x:this.x,y:this.y,width:this.width,height:this.height}),this.updateRenderPosition()};const Tn=4,Cn=[10,5];var v,Rt,M,mt,D,bt,_t,Pt,Ae,Re,O,zt,_e,Pe,li,go,hi,mo,di,bo,ui,yo,pi,wo,fi,xo,gi,vo,mi,So,bi,ko,ze,Hi,Be,Wi,Me,Di,Ne,Gi,yi,Io,wi,Eo,xi,Lo;class wr extends en{constructor(t,n){super(t);d(this,li);d(this,hi);d(this,di);d(this,ui);d(this,pi);d(this,fi);d(this,gi);d(this,mi);d(this,bi);d(this,ze);d(this,Be);d(this,Me);d(this,Ne);d(this,yi);d(this,wi);d(this,xi);d(this,v,void 0);d(this,Rt,!1);d(this,M,!1);d(this,mt,!1);d(this,D,!1);d(this,bt,Tn);d(this,_t,Cn);d(this,Pt,null);d(this,Ae,0);d(this,Re,0);d(this,O,new Map);d(this,zt,0);d(this,_e,0);d(this,Pe,0);u(this,v,n),n.on("imageloaded",()=>this.reset()),t.canvas.addEventListener("mouseover",g(this,hi,mo).bind(this),{passive:!0}),t.canvas.addEventListener("mouseout",g(this,di,bo).bind(this),{passive:!0}),t.canvas.addEventListener("wheel",g(this,li,go).bind(this),{passive:!0}),t.canvas.addEventListener("pointerdown",g(this,pi,wo).bind(this),{passive:!0}),t.canvas.addEventListener("pointerup",g(this,fi,xo).bind(this),{passive:!0}),t.canvas.addEventListener("pointercancel",g(this,gi,vo).bind(this),{passive:!0}),t.canvas.addEventListener("pointermove",g(this,mi,So).bind(this),{passive:!0}),t.canvas.addEventListener("pointerout",g(this,bi,ko).bind(this),{passive:!0})}set borderScale(t){u(this,bt,Tn*t),u(this,_t,Cn.map(n=>n*t))}set highlight(t){u(this,Rt,t)}scale(t){super.scale(t),o(this,v).scale(t)}reset(){this.x=o(this,v).x,this.y=o(this,v).y,this.width=o(this,v).width,this.height=o(this,v).height,u(this,M,!1),u(this,mt,!1),u(this,D,!1)}render(){!o(this,M)&&!o(this,D)&&!o(this,Rt)||(this.ctx.save(),De(this,zt)._++,o(this,zt)>=o(this,_t)[0]+o(this,_t)[1]&&u(this,zt,0),this.ctx.lineDashOffset=-o(this,zt),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.strokeStyle="red",this.ctx.lineWidth=o(this,bt),this.ctx.setLineDash(o(this,_t)),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this.ctx.restore())}}v=new WeakMap,Rt=new WeakMap,M=new WeakMap,mt=new WeakMap,D=new WeakMap,bt=new WeakMap,_t=new WeakMap,Pt=new WeakMap,Ae=new WeakMap,Re=new WeakMap,O=new WeakMap,zt=new WeakMap,_e=new WeakMap,Pe=new WeakMap,li=new WeakSet,go=function(t){const n=t.deltaY>0?.95:1.05;g(this,Ne,Gi).call(this,n)},hi=new WeakSet,mo=function(){const{left:t,top:n}=this.ctx.canvas.getBoundingClientRect();u(this,Ae,n),u(this,Re,t)},di=new WeakSet,bo=function(){u(this,M,!1)},ui=new WeakSet,yo=function(t){const n=t.clientX-o(this,Re),e=t.clientY-o(this,Ae);if(o(this,mt)){const r=t.clientX-o(this,_e),a=t.clientY-o(this,Pe);g(this,xi,Lo).call(this,r,a)}o(this,D)||g(this,yi,Io).call(this,n,e),g(this,ze,Hi).call(this,n,e,this.x,this.y,this.width,this.height,o(this,bt))?(u(this,M,!0),u(this,Rt,!1)):u(this,M,!1),u(this,_e,t.clientX),u(this,Pe,t.clientY)},pi=new WeakSet,wo=function(t){if(u(this,Rt,!1),t.pointerType==="mouse"&&t.button===0){u(this,mt,!0);return}o(this,O).set(t.pointerId,t);const{left:n,top:e}=this.ctx.canvas.getBoundingClientRect();let r=!1;for(let a of o(this,O).values()){const c=a.clientX-n,l=a.clientY-e;if(g(this,ze,Hi).call(this,c,l,this.x,this.y,this.width,this.height,o(this,bt))){r=!0;break}}u(this,M,r)},fi=new WeakSet,xo=function(t){if(t.pointerType==="mouse"&&t.button===0){u(this,mt,!1),u(this,D,!1);return}g(this,Be,Wi).call(this,t)},gi=new WeakSet,vo=function(t){g(this,Be,Wi).call(this,t)},mi=new WeakSet,So=function(t){if(t.pointerType==="mouse"){g(this,ui,yo).call(this,t);return}const n=Array.from(o(this,O).values());if(n.length===1&&o(this,M)){const e=n[0],{clientX:r,clientY:a}=t,c=o(this,O).get(e.pointerId);if(c){const l=r-c.clientX,h=a-c.clientY;this.x+=l,this.y+=h,o(this,v).x+=l,o(this,v).y+=h,o(this,v).updateRenderPosition()}}if(n.length===2&&o(this,M)){let e=o(this,O).get(n[0].pointerId),r=o(this,O).get(n[1].pointerId);if(e&&r){const a=n[0].pointerId===t.pointerId?n[1]:n[0];let c=g(this,Me,Di).call(this,a,t),l=g(this,Me,Di).call(this,e,r),h=c>l?1.02:.98;g(this,Ne,Gi).call(this,h)}}o(this,O).set(t.pointerId,t)},bi=new WeakSet,ko=function(t){t.pointerType==="mouse"&&(u(this,mt,!1),u(this,D,!1))},ze=new WeakSet,Hi=function(t,n,e,r,a,c,l=0){const h=l/2,p=e-h,f=r-h,m=e+a+h,y=r+c+h,S=t>=p&&t<=m,w=n>=f&&n<=y;return S&&w},Be=new WeakSet,Wi=function(t){o(this,O).delete(t.pointerId),o(this,O).size||u(this,M,!1)},Me=new WeakSet,Di=function(t,n){const e=Math.abs(t.clientX-n.clientX),r=Math.abs(t.clientY-n.clientY);return Math.pow(e,2)+Math.pow(r,2)},Ne=new WeakSet,Gi=function(t){const n=this.width*t-this.width,e=this.height*t-this.height;this.x=this.x-n/2,this.width=this.width+n,this.y=this.y-e/2,this.height=this.height+e,o(this,v).x=this.x,o(this,v).y=this.y,o(this,v).width=this.width,o(this,v).height=this.height,o(this,v).updateRenderPosition()},yi=new WeakSet,Io=function(t,n){const e=g(this,wi,Eo).call(this,t,n,this.x,this.y,this.width,this.height,o(this,bt));e.left||e.right?(this.ctx.canvas.style.cursor="ew-resize",u(this,Pt,e.left?"left":"right")):e.top||e.bottom?(this.ctx.canvas.style.cursor="ns-resize",u(this,Pt,e.top?"top":"bottom")):o(this,M)?this.ctx.canvas.style.cursor="move":this.ctx.canvas.style.cursor="default"},wi=new WeakSet,Eo=function(t,n,e,r,a,c,l=0){const h=l/2,p=e-h,f=r-h,m=e+a+h,y=r+c+h,S=e+h,w=r+h,vt=e+a-h,J=r+c-h;return{left:t>=p&&t<=S,right:t>=vt&&t<=m,top:n>=f&&n<=w,bottom:n>=J&&n<=y}},xi=new WeakSet,Lo=function(t,n){switch(this.ctx.canvas.style.cursor){case"move":this.x+=t,this.y+=n,o(this,v).x+=t,o(this,v).y+=n,o(this,v).updateRenderPosition();break;case"ew-resize":{if(u(this,D,!0),o(this,Pt)==="right"){const e=Math.max(this.width+t,1);this.width=e,o(this,v).width=e}else{const e=this.x+t;if(e>=this.x+this.width)break;const r=this.width-t;this.x=e,o(this,v).x=e,this.width=r,o(this,v).width=r}o(this,v).updateRenderPosition();break}case"ns-resize":{if(u(this,D,!0),o(this,Pt)==="bottom"){const e=Math.max(this.height+n,1);this.height=e,o(this,v).height=e}else{const e=this.y+n;if(e>=this.y+this.height)break;const r=this.height-n;this.y=e,o(this,v).y=e,this.height=r,o(this,v).height=r}o(this,v).updateRenderPosition()}}};var j,T,V,Ue,G,Bt,vi,To;class An{constructor(s,t){d(this,vi);d(this,j,void 0);d(this,T,void 0);d(this,V,0);d(this,Ue,1);d(this,G,null);d(this,Bt,void 0);u(this,j,s),u(this,T,s.canvas),u(this,Bt,t)}async loadImage(){let s;try{s=await Ze(o(this,Bt).imageUrl),u(this,G,s)}catch(t){throw console.error(t),new Error("Failed to load wanted image.")}return s}get imageScale(){return o(this,Ue)}setSize({width:s,height:t,shadowSize:n,quality:e}){if(!o(this,G))throw new Error("Failed to set size: wanted image is null");const r=o(this,G).width+n*2,a=o(this,G).height+n*2,c=tn(s,t,r,a);u(this,Ue,c);const l=r*c,h=a*c;switch(u(this,V,n*c),o(this,T).style.width=l+"px",o(this,T).style.height=h+"px",o(this,T).domWidth=l,o(this,T).domHeight=h,e){case"original":o(this,T).width=r,o(this,T).height=a,o(this,j).scale(1/c,1/c);break;case"high":{const f=window.devicePixelRatio;o(this,T).width=l*f,o(this,T).height=h*f,o(this,j).scale(f,f);break}case"half":{const f=o(this,G).height/h/2;o(this,T).width=l*f,o(this,T).height=h*f,o(this,j).scale(f,f);break}}return g(this,vi,To).call(this,c,n)}render(){o(this,G)&&(o(this,j).save(),o(this,j).shadowColor="rgba(0, 0, 0, 1)",o(this,j).shadowBlur=o(this,V)*(o(this,T).width/o(this,T).domWidth),o(this,j).drawImage(o(this,G),o(this,V),o(this,V),o(this,T).domWidth-o(this,V)*2,o(this,T).domHeight-o(this,V)*2),o(this,j).restore())}}j=new WeakMap,T=new WeakMap,V=new WeakMap,Ue=new WeakMap,G=new WeakMap,Bt=new WeakMap,vi=new WeakSet,To=function(s,t){if(!o(this,Bt))throw new Error("Failed to calculate wanted image info: WantedImageInfo object is null");t*=s;const{imageUrl:n,bellyImageUrl:e,photoPosition:r,namePosition:a,bountyInfo:c,boundaryOffset:l}=o(this,Bt),h=f=>{const{x:m,y,width:S,height:w}=f;return{x:m*s+t,y:y*s+t,width:S*s,height:w*s}},p={...h(c),bellyMarginRight:c.bellyMarginRight*s,fontSize:c.fontSize*s};return{imageUrl:n,bellyImageUrl:e,photoPosition:h(r),namePosition:h(a),bountyInfo:p,boundaryOffset:{left:l.left*s+t,right:l.right*s+t,top:l.top*s+t,bottom:l.bottom*s+t}}};const xr="wanted-poster",vr=["name","bounty","name-spacing","bounty-spacing","photo-url","filter","shadow"];var Mt,yt,Oe,N,wt,W,q,_,K,Kt,je,Jt,Xe,Si,Co,qe,Qi,Fe,Yi;class Sr extends HTMLElement{constructor(){super();d(this,Jt);d(this,Si);d(this,qe);d(this,Fe);d(this,Mt,void 0);d(this,yt,void 0);d(this,Oe,void 0);d(this,N,void 0);d(this,wt,void 0);d(this,W,void 0);d(this,q,void 0);d(this,_,void 0);d(this,K,void 0);d(this,Kt,void 0);d(this,je,void 0);u(this,K,"init");const t=this.attachShadow({mode:"open"}),n=document.createElement("canvas");n.domWidth=0,n.domHeight=0;const e=document.createElement("div");e.className="container";const r=document.createElement("style");r.textContent=br,t.append(r,e);const a=n.getContext("2d");u(this,Mt,e),u(this,yt,n),u(this,Oe,a),u(this,_,new An(a,Pi)),u(this,N,new Ln(a)),u(this,W,new In(a)),u(this,q,new kn(a)),u(this,wt,new wr(a,o(this,N))),u(this,Kt,new ResizeObserver(()=>{clearTimeout(o(this,je)),u(this,je,window.setTimeout(()=>g(this,qe,Qi).call(this),200))})),o(this,Kt).observe(e)}static get observedAttributes(){return vr}async connectedCallback(){console.log("[connected]"),await new Promise(e=>{setTimeout(()=>e(""))}),u(this,K,"loading");const t=g(this,Jt,Xe).call(this),n=o(this,Mt).getBoundingClientRect();try{await o(this,_).loadImage();const e=o(this,_).setSize({width:n.width,height:n.height,shadowSize:t,quality:"half"});o(this,W).setPosition(e.namePosition),o(this,q).setBountyInfo(e.bountyInfo,o(this,_).imageScale),await o(this,q).loadBellyImage(Pi.bellyImageUrl),await o(this,N).init(e.photoPosition,e.boundaryOffset),await o(this,N).loadImage(this.getAttribute("photo-url"))}catch(e){u(this,K,"error"),console.error("Failed to init wanted poster.",e);return}o(this,W).text=this.getAttribute("name")??"",o(this,q).text=this.getAttribute("bounty")??"",o(this,W).spacing=parseInt(this.getAttribute("name-spacing")??"0")||0,o(this,q).spacing=parseInt(this.getAttribute("bounty-spacing")??"0")||0,o(this,N).filter=this.getAttribute("filter")??"",u(this,K,"success"),g(this,Fe,Yi).call(this),o(this,Mt).appendChild(o(this,yt)),this.dispatchEvent(new CustomEvent("WantedPosterLoaded",{bubbles:!0}))}disconnectedCallback(){console.log("[disconnected]"),o(this,Kt).disconnect()}adoptedCallback(){console.log("[adopted]")}async attributeChangedCallback(t,n,e){if(o(this,K)==="success")switch(t){case"name":o(this,W).text=e;break;case"bounty":o(this,q).text=e;break;case"name-spacing":o(this,W).spacing=parseInt(e)||0;break;case"bounty-spacing":o(this,q).spacing=parseInt(e)||0;break;case"photo-url":{await o(this,N).loadImage(e),o(this,wt).highlight=!ne.photoUrls.includes(e);break}case"filter":{o(this,N).filter=e;break}case"shadow":{g(this,qe,Qi).call(this);break}}}async export(){const t=document.createElement("canvas");t.domWidth=0,t.domHeight=0,t.style.display="none";const n=t.getContext("2d"),e=g(this,Jt,Xe).call(this),r=new An(n,Pi),a=new Ln(n),c=new In(n),l=new kn(n),h=await r.loadImage(),p=h.width+e*2,f=h.height+e*2,m=r.setSize({width:p,height:f,shadowSize:e,quality:"original"});await l.loadBellyImage(m.bellyImageUrl),c.setPosition(m.namePosition),l.setBountyInfo(m.bountyInfo,1),c.text=this.getAttribute("name")??"",l.text=this.getAttribute("bounty")??"",c.spacing=parseInt(this.getAttribute("name-spacing")??"0")||0,l.spacing=parseInt(this.getAttribute("bounty-spacing")??"0")||0,await a.init(m.photoPosition,m.boundaryOffset),await a.loadImage(this.getAttribute("photo-url"));const{x:y,y:S,width:w,height:vt,filter:J}=o(this,N);a.x=y/o(this,_).imageScale,a.y=S/o(this,_).imageScale,a.width=w/o(this,_).imageScale,a.height=vt/o(this,_).imageScale,a.filter=J,a.updateRenderPosition(),a.render(),r.render(),l.render(),c.render();let E="";try{const R=await new Promise((Ei,Zt)=>{t.toBlob(x=>{x?Ei(x):Zt("Failed to create blob object.")},"image/png",1)});E=URL.createObjectURL(R),g(this,Si,Co).call(this,E,"wanted-poster.png")}finally{E&&URL.revokeObjectURL(E)}}}Mt=new WeakMap,yt=new WeakMap,Oe=new WeakMap,N=new WeakMap,wt=new WeakMap,W=new WeakMap,q=new WeakMap,_=new WeakMap,K=new WeakMap,Kt=new WeakMap,je=new WeakMap,Jt=new WeakSet,Xe=function(){const t=this.getAttribute("shadow");if(!t)return 0;const n=Number.parseInt(t);return Number.isNaN(n)?0:n},Si=new WeakSet,Co=function(t,n){const e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},qe=new WeakSet,Qi=function(){if(o(this,K)!=="success")return;const t=g(this,Jt,Xe).call(this),n=o(this,Mt).getBoundingClientRect(),e=o(this,yt).getBoundingClientRect(),r=tn(n.width,n.height,e.width,e.height),a=o(this,_).setSize({width:n.width,height:n.height,shadowSize:t,quality:"half"});o(this,W).setPosition(a.namePosition),o(this,q).setBountyInfo(a.bountyInfo,o(this,_).imageScale),o(this,N).setBoundary(a.photoPosition,a.boundaryOffset),o(this,wt).scale(r),o(this,wt).borderScale=o(this,_).imageScale},Fe=new WeakSet,Yi=function(){o(this,Oe).clearRect(0,0,o(this,yt).domWidth,o(this,yt).domHeight),o(this,N).render(),o(this,_).render(),o(this,q).render(),o(this,W).render(),o(this,wt).render(),requestAnimationFrame(g(this,Fe,Yi).bind(this))};customElements.define(xr,Sr);
