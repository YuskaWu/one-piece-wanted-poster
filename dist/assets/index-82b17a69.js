var os=Object.defineProperty;var ss=(o,s,t)=>s in o?os(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var E=(o,s,t)=>(ss(o,typeof s!="symbol"?s+"":s,t),t),Qn=(o,s,t)=>{if(!s.has(o))throw TypeError("Cannot "+t)};var n=(o,s,t)=>(Qn(o,s,"read from private field"),t?t.call(o):s.get(o)),h=(o,s,t)=>{if(s.has(o))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(o):s.set(o,t)},u=(o,s,t,i)=>(Qn(o,s,"write to private field"),i?i.call(o,t):s.set(o,t),t);var cn=(o,s,t,i)=>({set _(e){u(o,s,e,t)},get _(){return n(o,s,i)}}),p=(o,s,t)=>(Qn(o,s,"access private method"),t);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();const rs="modulepreload",as=function(o,s){return new URL(o,s).href},Ci={},ti=function(s,t,i){if(!t||t.length===0)return s();const e=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=as(r,i),r in Ci)return;Ci[r]=!0;const a=r.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let f=e.length-1;f>=0;f--){const g=e[f];if(g.href===r&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":rs,a||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),a)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>s()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};function cs(o={}){const{immediate:s=!1,onNeedRefresh:t,onOfflineReady:i,onRegistered:e,onRegisteredSW:r,onRegisterError:a}=o;let l,c;const d=async(g=!0)=>{await c};async function f(){if("serviceWorker"in navigator){const{Workbox:g}=await ti(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url);l=new g("./service-worker.js",{scope:"./",type:"classic"}),l.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),l.addEventListener("installed",m=>{m.isUpdate||i==null||i()}),l.register({immediate:s}).then(m=>{r?r("./service-worker.js",m):e==null||e(m)}).catch(m=>{a==null||a(m)})}}return c=f(),d}cs();/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const eo=Object.freeze({left:0,top:0,width:16,height:16}),fn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),sn=Object.freeze({...eo,...fn}),ei=Object.freeze({...sn,body:"",hidden:!1}),ls=Object.freeze({width:null,height:null}),no=Object.freeze({...ls,...fn});function hs(o,s=0){const t=o.replace(/^-?[0-9.]*/,"");function i(e){for(;e<0;)e+=4;return e%4}if(t===""){const e=parseInt(o);return isNaN(e)?0:i(e)}else if(t!==o){let e=0;switch(t){case"%":e=25;break;case"deg":e=90}if(e){let r=parseFloat(o.slice(0,o.length-t.length));return isNaN(r)?0:(r=r/e,r%1===0?i(r):0)}}return s}const ds=/[\s,]+/;function us(o,s){s.split(ds).forEach(t=>{switch(t.trim()){case"horizontal":o.hFlip=!0;break;case"vertical":o.vFlip=!0;break}})}const io={...no,preserveAspectRatio:""};function Ai(o){const s={...io},t=(i,e)=>o.getAttribute(i)||e;return s.width=t("width",null),s.height=t("height",null),s.rotate=hs(t("rotate","")),us(s,t("flip","")),s.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),s}function fs(o,s){for(const t in io)if(o[t]!==s[t])return!0;return!1}const ue=/^[a-z0-9]+(-[a-z0-9]+)*$/,rn=(o,s,t,i="")=>{const e=o.split(":");if(o.slice(0,1)==="@"){if(e.length<2||e.length>3)return null;i=e.shift().slice(1)}if(e.length>3||!e.length)return null;if(e.length>1){const l=e.pop(),c=e.pop(),d={provider:e.length>0?e[0]:i,prefix:c,name:l};return s&&!dn(d)?null:d}const r=e[0],a=r.split("-");if(a.length>1){const l={provider:i,prefix:a.shift(),name:a.join("-")};return s&&!dn(l)?null:l}if(t&&i===""){const l={provider:i,prefix:"",name:r};return s&&!dn(l,t)?null:l}return null},dn=(o,s)=>o?!!((o.provider===""||o.provider.match(ue))&&(s&&o.prefix===""||o.prefix.match(ue))&&o.name.match(ue)):!1;function ps(o,s){const t={};!o.hFlip!=!s.hFlip&&(t.hFlip=!0),!o.vFlip!=!s.vFlip&&(t.vFlip=!0);const i=((o.rotate||0)+(s.rotate||0))%4;return i&&(t.rotate=i),t}function Ri(o,s){const t=ps(o,s);for(const i in ei)i in fn?i in o&&!(i in t)&&(t[i]=fn[i]):i in s?t[i]=s[i]:i in o&&(t[i]=o[i]);return t}function gs(o,s){const t=o.icons,i=o.aliases||Object.create(null),e=Object.create(null);function r(a){if(t[a])return e[a]=[];if(!(a in e)){e[a]=null;const l=i[a]&&i[a].parent,c=l&&r(l);c&&(e[a]=[l].concat(c))}return e[a]}return(s||Object.keys(t).concat(Object.keys(i))).forEach(r),e}function ms(o,s,t){const i=o.icons,e=o.aliases||Object.create(null);let r={};function a(l){r=Ri(i[l]||e[l],r)}return a(s),t.forEach(a),Ri(o,r)}function oo(o,s){const t=[];if(typeof o!="object"||typeof o.icons!="object")return t;o.not_found instanceof Array&&o.not_found.forEach(e=>{s(e,null),t.push(e)});const i=gs(o);for(const e in i){const r=i[e];r&&(s(e,ms(o,e,r)),t.push(e))}return t}const bs={provider:"",aliases:{},not_found:{},...eo};function Yn(o,s){for(const t in s)if(t in o&&typeof o[t]!=typeof s[t])return!1;return!0}function so(o){if(typeof o!="object"||o===null)return null;const s=o;if(typeof s.prefix!="string"||!o.icons||typeof o.icons!="object"||!Yn(o,bs))return null;const t=s.icons;for(const e in t){const r=t[e];if(!e.match(ue)||typeof r.body!="string"||!Yn(r,ei))return null}const i=s.aliases||Object.create(null);for(const e in i){const r=i[e],a=r.parent;if(!e.match(ue)||typeof a!="string"||!t[a]&&!i[a]||!Yn(r,ei))return null}return s}const pn=Object.create(null);function ys(o,s){return{provider:o,prefix:s,icons:Object.create(null),missing:new Set}}function Rt(o,s){const t=pn[o]||(pn[o]=Object.create(null));return t[s]||(t[s]=ys(o,s))}function vi(o,s){return so(s)?oo(s,(t,i)=>{i?o.icons[t]=i:o.missing.add(t)}):[]}function ws(o,s,t){try{if(typeof t.body=="string")return o.icons[s]={...t},!0}catch{}return!1}function xs(o,s){let t=[];return(typeof o=="string"?[o]:Object.keys(pn)).forEach(e=>{(typeof e=="string"&&typeof s=="string"?[s]:Object.keys(pn[e]||{})).forEach(a=>{const l=Rt(e,a);t=t.concat(Object.keys(l.icons).map(c=>(e!==""?"@"+e+":":"")+a+":"+c))})}),t}let pe=!1;function ro(o){return typeof o=="boolean"&&(pe=o),pe}function ge(o){const s=typeof o=="string"?rn(o,!0,pe):o;if(s){const t=Rt(s.provider,s.prefix),i=s.name;return t.icons[i]||(t.missing.has(i)?null:void 0)}}function ao(o,s){const t=rn(o,!0,pe);if(!t)return!1;const i=Rt(t.provider,t.prefix);return ws(i,t.name,s)}function Fi(o,s){if(typeof o!="object")return!1;if(typeof s!="string"&&(s=o.provider||""),pe&&!s&&!o.prefix){let e=!1;return so(o)&&(o.prefix="",oo(o,(r,a)=>{a&&ao(r,a)&&(e=!0)})),e}const t=o.prefix;if(!dn({provider:s,prefix:t,name:"a"}))return!1;const i=Rt(s,t);return!!vi(i,o)}function vs(o){return!!ge(o)}function Ss(o){const s=ge(o);return s?{...sn,...s}:null}function ks(o){const s={loaded:[],missing:[],pending:[]},t=Object.create(null);o.sort((e,r)=>e.provider!==r.provider?e.provider.localeCompare(r.provider):e.prefix!==r.prefix?e.prefix.localeCompare(r.prefix):e.name.localeCompare(r.name));let i={provider:"",prefix:"",name:""};return o.forEach(e=>{if(i.name===e.name&&i.prefix===e.prefix&&i.provider===e.provider)return;i=e;const r=e.provider,a=e.prefix,l=e.name,c=t[r]||(t[r]=Object.create(null)),d=c[a]||(c[a]=Rt(r,a));let f;l in d.icons?f=s.loaded:a===""||d.missing.has(l)?f=s.missing:f=s.pending;const g={provider:r,prefix:a,name:l};f.push(g)}),s}function co(o,s){o.forEach(t=>{const i=t.loaderCallbacks;i&&(t.loaderCallbacks=i.filter(e=>e.id!==s))})}function Is(o){o.pendingCallbacksFlag||(o.pendingCallbacksFlag=!0,setTimeout(()=>{o.pendingCallbacksFlag=!1;const s=o.loaderCallbacks?o.loaderCallbacks.slice(0):[];if(!s.length)return;let t=!1;const i=o.provider,e=o.prefix;s.forEach(r=>{const a=r.icons,l=a.pending.length;a.pending=a.pending.filter(c=>{if(c.prefix!==e)return!0;const d=c.name;if(o.icons[d])a.loaded.push({provider:i,prefix:e,name:d});else if(o.missing.has(d))a.missing.push({provider:i,prefix:e,name:d});else return t=!0,!0;return!1}),a.pending.length!==l&&(t||co([o],r.id),r.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),r.abort))})}))}let Es=0;function Ls(o,s,t){const i=Es++,e=co.bind(null,t,i);if(!s.pending.length)return e;const r={id:i,icons:s,callback:o,abort:e};return t.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(r)}),e}const ni=Object.create(null);function Pi(o,s){ni[o]=s}function ii(o){return ni[o]||ni[""]}function Ts(o,s=!0,t=!1){const i=[];return o.forEach(e=>{const r=typeof e=="string"?rn(e,s,t):e;r&&i.push(r)}),i}var Cs={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function As(o,s,t,i){const e=o.resources.length,r=o.random?Math.floor(Math.random()*e):o.index;let a;if(o.random){let w=o.resources.slice(0);for(a=[];w.length>1;){const _=Math.floor(Math.random()*w.length);a.push(w[_]),w=w.slice(0,_).concat(w.slice(_+1))}a=a.concat(w)}else a=o.resources.slice(r).concat(o.resources.slice(0,r));const l=Date.now();let c="pending",d=0,f,g=null,m=[],v=[];typeof i=="function"&&v.push(i);function S(){g&&(clearTimeout(g),g=null)}function k(){c==="pending"&&(c="aborted"),S(),m.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),m=[]}function Ft(w,_){_&&(v=[]),typeof w=="function"&&v.push(w)}function et(){return{startTime:l,payload:s,status:c,queriesSent:d,queriesPending:m.length,subscribe:Ft,abort:k}}function L(){c="failed",v.forEach(w=>{w(void 0,f)})}function F(){m.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),m=[]}function Gn(w,_,le){const an=_!=="success";switch(m=m.filter(Pt=>Pt!==w),c){case"pending":break;case"failed":if(an||!o.dataAfterTimeout)return;break;default:return}if(_==="abort"){f=le,L();return}if(an){f=le,m.length||(a.length?ce():L());return}if(S(),F(),!o.random){const Pt=o.resources.indexOf(w.resource);Pt!==-1&&Pt!==o.index&&(o.index=Pt)}c="completed",v.forEach(Pt=>{Pt(le)})}function ce(){if(c!=="pending")return;S();const w=a.shift();if(w===void 0){if(m.length){g=setTimeout(()=>{S(),c==="pending"&&(F(),L())},o.timeout);return}L();return}const _={status:"pending",resource:w,callback:(le,an)=>{Gn(_,le,an)}};m.push(_),d++,g=setTimeout(ce,o.rotate),t(w,s,_.callback)}return setTimeout(ce),et}function lo(o){const s={...Cs,...o};let t=[];function i(){t=t.filter(l=>l().status==="pending")}function e(l,c,d){const f=As(s,l,c,(g,m)=>{i(),d&&d(g,m)});return t.push(f),f}function r(l){return t.find(c=>l(c))||null}return{query:e,find:r,setIndex:l=>{s.index=l},getIndex:()=>s.index,cleanup:i}}function Si(o){let s;if(typeof o.resources=="string")s=[o.resources];else if(s=o.resources,!(s instanceof Array)||!s.length)return null;return{resources:s,path:o.path||"/",maxURL:o.maxURL||500,rotate:o.rotate||750,timeout:o.timeout||5e3,random:o.random===!0,index:o.index||0,dataAfterTimeout:o.dataAfterTimeout!==!1}}const Hn=Object.create(null),he=["https://api.simplesvg.com","https://api.unisvg.com"],un=[];for(;he.length>0;)he.length===1||Math.random()>.5?un.push(he.shift()):un.push(he.pop());Hn[""]=Si({resources:["https://api.iconify.design"].concat(un)});function zi(o,s){const t=Si(s);return t===null?!1:(Hn[o]=t,!0)}function Dn(o){return Hn[o]}function Rs(){return Object.keys(Hn)}function Oi(){}const Xn=Object.create(null);function Fs(o){if(!Xn[o]){const s=Dn(o);if(!s)return;const t=lo(s),i={config:s,redundancy:t};Xn[o]=i}return Xn[o]}function ho(o,s,t){let i,e;if(typeof o=="string"){const r=ii(o);if(!r)return t(void 0,424),Oi;e=r.send;const a=Fs(o);a&&(i=a.redundancy)}else{const r=Si(o);if(r){i=lo(r);const a=o.resources?o.resources[0]:"",l=ii(a);l&&(e=l.send)}}return!i||!e?(t(void 0,424),Oi):i.query(s,e,t)().abort}const Mi="iconify2",me="iconify",uo=me+"-count",Bi=me+"-version",fo=36e5,Ps=168;function oi(o,s){try{return o.getItem(s)}catch{}}function ki(o,s,t){try{return o.setItem(s,t),!0}catch{}}function Ui(o,s){try{o.removeItem(s)}catch{}}function si(o,s){return ki(o,uo,s.toString())}function ri(o){return parseInt(oi(o,uo))||0}const Vt={local:!0,session:!0},po={local:new Set,session:new Set};let Ii=!1;function zs(o){Ii=o}let ln=typeof window>"u"?{}:window;function go(o){const s=o+"Storage";try{if(ln&&ln[s]&&typeof ln[s].length=="number")return ln[s]}catch{}Vt[o]=!1}function mo(o,s){const t=go(o);if(!t)return;const i=oi(t,Bi);if(i!==Mi){if(i){const l=ri(t);for(let c=0;c<l;c++)Ui(t,me+c.toString())}ki(t,Bi,Mi),si(t,0);return}const e=Math.floor(Date.now()/fo)-Ps,r=l=>{const c=me+l.toString(),d=oi(t,c);if(typeof d=="string"){try{const f=JSON.parse(d);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>e&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&s(f,l))return!0}catch{}Ui(t,c)}};let a=ri(t);for(let l=a-1;l>=0;l--)r(l)||(l===a-1?(a--,si(t,a)):po[o].add(l))}function bo(){if(!Ii){zs(!0);for(const o in Vt)mo(o,s=>{const t=s.data,i=s.provider,e=t.prefix,r=Rt(i,e);if(!vi(r,t).length)return!1;const a=t.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,a):a,!0})}}function Os(o,s){const t=o.lastModifiedCached;if(t&&t>=s)return t===s;if(o.lastModifiedCached=s,t)for(const i in Vt)mo(i,e=>{const r=e.data;return e.provider!==o.provider||r.prefix!==o.prefix||r.lastModified===s});return!0}function Ms(o,s){Ii||bo();function t(i){let e;if(!Vt[i]||!(e=go(i)))return;const r=po[i];let a;if(r.size)r.delete(a=Array.from(r).shift());else if(a=ri(e),!si(e,a+1))return;const l={cached:Math.floor(Date.now()/fo),provider:o.provider,data:s};return ki(e,me+a.toString(),JSON.stringify(l))}s.lastModified&&!Os(o,s.lastModified)||Object.keys(s.icons).length&&(s.not_found&&(s=Object.assign({},s),delete s.not_found),t("local")||t("session"))}function Ni(){}function Bs(o){o.iconsLoaderFlag||(o.iconsLoaderFlag=!0,setTimeout(()=>{o.iconsLoaderFlag=!1,Is(o)}))}function Us(o,s){o.iconsToLoad?o.iconsToLoad=o.iconsToLoad.concat(s).sort():o.iconsToLoad=s,o.iconsQueueFlag||(o.iconsQueueFlag=!0,setTimeout(()=>{o.iconsQueueFlag=!1;const{provider:t,prefix:i}=o,e=o.iconsToLoad;delete o.iconsToLoad;let r;if(!e||!(r=ii(t)))return;r.prepare(t,i,e).forEach(l=>{ho(t,l,c=>{if(typeof c!="object")l.icons.forEach(d=>{o.missing.add(d)});else try{const d=vi(o,c);if(!d.length)return;const f=o.pendingIcons;f&&d.forEach(g=>{f.delete(g)}),Ms(o,c)}catch(d){console.error(d)}Bs(o)})})}))}const Ei=(o,s)=>{const t=Ts(o,!0,ro()),i=ks(t);if(!i.pending.length){let c=!0;return s&&setTimeout(()=>{c&&s(i.loaded,i.missing,i.pending,Ni)}),()=>{c=!1}}const e=Object.create(null),r=[];let a,l;return i.pending.forEach(c=>{const{provider:d,prefix:f}=c;if(f===l&&d===a)return;a=d,l=f,r.push(Rt(d,f));const g=e[d]||(e[d]=Object.create(null));g[f]||(g[f]=[])}),i.pending.forEach(c=>{const{provider:d,prefix:f,name:g}=c,m=Rt(d,f),v=m.pendingIcons||(m.pendingIcons=new Set);v.has(g)||(v.add(g),e[d][f].push(g))}),r.forEach(c=>{const{provider:d,prefix:f}=c;e[d][f].length&&Us(c,e[d][f])}),s?Ls(s,i,r):Ni},Ns=o=>new Promise((s,t)=>{const i=typeof o=="string"?rn(o,!0):o;if(!i){t(o);return}Ei([i||o],e=>{if(e.length&&i){const r=ge(i);if(r){s({...sn,...r});return}}t(o)})});function _s(o){try{const s=typeof o=="string"?JSON.parse(o):o;if(typeof s.body=="string")return{...s}}catch{}}function js(o,s){const t=typeof o=="string"?rn(o,!0,!0):null;if(!t){const r=_s(o);return{value:o,data:r}}const i=ge(t);if(i!==void 0||!t.prefix)return{value:o,name:t,data:i};const e=Ei([t],()=>s(o,t,ge(t)));return{value:o,name:t,loading:e}}function Vn(o){return o.hasAttribute("inline")}let yo=!1;try{yo=navigator.vendor.indexOf("Apple")===0}catch{}function qs(o,s){switch(s){case"svg":case"bg":case"mask":return s}return s!=="style"&&(yo||o.indexOf("<a")===-1)?"svg":o.indexOf("currentColor")===-1?"bg":"mask"}const $s=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ws=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ai(o,s,t){if(s===1)return o;if(t=t||100,typeof o=="number")return Math.ceil(o*s*t)/t;if(typeof o!="string")return o;const i=o.split($s);if(i===null||!i.length)return o;const e=[];let r=i.shift(),a=Ws.test(r);for(;;){if(a){const l=parseFloat(r);isNaN(l)?e.push(r):e.push(Math.ceil(l*s*t)/t)}else e.push(r);if(r=i.shift(),r===void 0)return e.join("");a=!a}}const Hs=o=>o==="unset"||o==="undefined"||o==="none";function wo(o,s){const t={...sn,...o},i={...no,...s},e={left:t.left,top:t.top,width:t.width,height:t.height};let r=t.body;[t,i].forEach(S=>{const k=[],Ft=S.hFlip,et=S.vFlip;let L=S.rotate;Ft?et?L+=2:(k.push("translate("+(e.width+e.left).toString()+" "+(0-e.top).toString()+")"),k.push("scale(-1 1)"),e.top=e.left=0):et&&(k.push("translate("+(0-e.left).toString()+" "+(e.height+e.top).toString()+")"),k.push("scale(1 -1)"),e.top=e.left=0);let F;switch(L<0&&(L-=Math.floor(L/4)*4),L=L%4,L){case 1:F=e.height/2+e.top,k.unshift("rotate(90 "+F.toString()+" "+F.toString()+")");break;case 2:k.unshift("rotate(180 "+(e.width/2+e.left).toString()+" "+(e.height/2+e.top).toString()+")");break;case 3:F=e.width/2+e.left,k.unshift("rotate(-90 "+F.toString()+" "+F.toString()+")");break}L%2===1&&(e.left!==e.top&&(F=e.left,e.left=e.top,e.top=F),e.width!==e.height&&(F=e.width,e.width=e.height,e.height=F)),k.length&&(r='<g transform="'+k.join(" ")+'">'+r+"</g>")});const a=i.width,l=i.height,c=e.width,d=e.height;let f,g;a===null?(g=l===null?"1em":l==="auto"?d:l,f=ai(g,c/d)):(f=a==="auto"?c:a,g=l===null?ai(f,d/c):l==="auto"?d:l);const m={},v=(S,k)=>{Hs(k)||(m[S]=k.toString())};return v("width",f),v("height",g),m.viewBox=e.left.toString()+" "+e.top.toString()+" "+c.toString()+" "+d.toString(),{attributes:m,body:r}}const Ds=()=>{let o;try{if(o=fetch,typeof o=="function")return o}catch{}};let gn=Ds();function Gs(o){gn=o}function Qs(){return gn}function Ys(o,s){const t=Dn(o);if(!t)return 0;let i;if(!t.maxURL)i=0;else{let e=0;t.resources.forEach(a=>{e=Math.max(e,a.length)});const r=s+".json?icons=";i=t.maxURL-e-t.path.length-r.length}return i}function Xs(o){return o===404}const Vs=(o,s,t)=>{const i=[],e=Ys(o,s),r="icons";let a={type:r,provider:o,prefix:s,icons:[]},l=0;return t.forEach((c,d)=>{l+=c.length+1,l>=e&&d>0&&(i.push(a),a={type:r,provider:o,prefix:s,icons:[]},l=c.length),a.icons.push(c)}),i.push(a),i};function Ks(o){if(typeof o=="string"){const s=Dn(o);if(s)return s.path}return"/"}const Js=(o,s,t)=>{if(!gn){t("abort",424);return}let i=Ks(s.provider);switch(s.type){case"icons":{const r=s.prefix,l=s.icons.join(","),c=new URLSearchParams({icons:l});i+=r+".json?"+c.toString();break}case"custom":{const r=s.uri;i+=r.slice(0,1)==="/"?r.slice(1):r;break}default:t("abort",400);return}let e=503;gn(o+i).then(r=>{const a=r.status;if(a!==200){setTimeout(()=>{t(Xs(a)?"abort":"next",a)});return}return e=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?t("abort",r):t("next",e)});return}setTimeout(()=>{t("success",r)})}).catch(()=>{t("next",e)})},Zs={prepare:Vs,send:Js};function _i(o,s){switch(o){case"local":case"session":Vt[o]=s;break;case"all":for(const t in Vt)Vt[t]=s;break}}const Kn="data-style";let xo="";function tr(o){xo=o}function ji(o,s){let t=Array.from(o.childNodes).find(i=>i.hasAttribute&&i.hasAttribute(Kn));t||(t=document.createElement("style"),t.setAttribute(Kn,Kn),o.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(s?"-0.125em":"0")+"}span,svg{display:block}"+xo}function vo(){Pi("",Zs),ro(!0);let o;try{o=window}catch{}if(o){if(bo(),o.IconifyPreload!==void 0){const t=o.IconifyPreload,i="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(e=>{try{(typeof e!="object"||e===null||e instanceof Array||typeof e.icons!="object"||typeof e.prefix!="string"||!Fi(e))&&console.error(i)}catch{console.error(i)}})}if(o.IconifyProviders!==void 0){const t=o.IconifyProviders;if(typeof t=="object"&&t!==null)for(const i in t){const e="IconifyProviders["+i+"] is invalid.";try{const r=t[i];if(typeof r!="object"||!r||r.resources===void 0)continue;zi(i,r)||console.error(e)}catch{console.error(e)}}}}return{enableCache:t=>_i(t,!0),disableCache:t=>_i(t,!1),iconExists:vs,getIcon:Ss,listIcons:xs,addIcon:ao,addCollection:Fi,calculateSize:ai,buildIcon:wo,loadIcons:Ei,loadIcon:Ns,addAPIProvider:zi,appendCustomStyle:tr,_api:{getAPIConfig:Dn,setAPIModule:Pi,sendAPIQuery:ho,setFetch:Gs,getFetch:Qs,listAPIProviders:Rs}}}function So(o,s){let t=o.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in s)t+=" "+i+'="'+s[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+o+"</svg>"}function er(o){return o.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function nr(o){return"data:image/svg+xml,"+er(o)}function ir(o){return'url("'+nr(o)+'")'}const ci={"background-color":"currentColor"},ko={"background-color":"transparent"},qi={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},$i={"-webkit-mask":ci,mask:ci,background:ko};for(const o in $i){const s=$i[o];for(const t in qi)s[o+"-"+t]=qi[t]}function Wi(o){return o?o+(o.match(/^[-0-9.]+$/)?"px":""):"inherit"}function or(o,s,t){const i=document.createElement("span");let e=o.body;e.indexOf("<a")!==-1&&(e+="<!-- "+Date.now()+" -->");const r=o.attributes,a=So(e,{...r,width:s.width+"",height:s.height+""}),l=ir(a),c=i.style,d={"--svg":l,width:Wi(r.width),height:Wi(r.height),...t?ci:ko};for(const f in d)c.setProperty(f,d[f]);return i}let fe;function sr(){try{fe=window.trustedTypes.createPolicy("iconify",{createHTML:o=>o})}catch{fe=null}}function rr(o){return fe===void 0&&sr(),fe?fe.createHTML(o):o}function ar(o){const s=document.createElement("span"),t=o.attributes;let i="";t.width||(i="width: inherit;"),t.height||(i+="height: inherit;"),i&&(t.style=i);const e=So(o.body,t);return s.innerHTML=rr(e),s.firstChild}function Hi(o,s){const t=s.icon.data,i=s.customisations,e=wo(t,i);i.preserveAspectRatio&&(e.attributes.preserveAspectRatio=i.preserveAspectRatio);const r=s.renderedMode;let a;switch(r){case"svg":a=ar(e);break;default:a=or(e,{...sn,...t},r==="mask")}const l=Array.from(o.childNodes).find(c=>{const d=c.tagName&&c.tagName.toUpperCase();return d==="SPAN"||d==="SVG"});l?a.tagName==="SPAN"&&l.tagName===a.tagName?l.setAttribute("style",a.getAttribute("style")):o.replaceChild(a,l):o.appendChild(a)}function Di(o,s,t){const i=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:s,icon:o,lastRender:i}}function cr(o="iconify-icon"){let s,t;try{s=window.customElements,t=window.HTMLElement}catch{return}if(!s||!t)return;const i=s.get(o);if(i)return i;const e=["icon","mode","inline","width","height","rotate","flip"],r=class extends t{constructor(){super();E(this,"_shadowRoot");E(this,"_state");E(this,"_checkQueued",!1);const c=this._shadowRoot=this.attachShadow({mode:"open"}),d=Vn(this);ji(c,d),this._state=Di({value:""},d),this._queueCheck()}static get observedAttributes(){return e.slice(0)}attributeChangedCallback(c){if(c==="inline"){const d=Vn(this),f=this._state;d!==f.inline&&(f.inline=d,ji(this._shadowRoot,d))}else this._queueCheck()}get icon(){const c=this.getAttribute("icon");if(c&&c.slice(0,1)==="{")try{return JSON.parse(c)}catch{}return c}set icon(c){typeof c=="object"&&(c=JSON.stringify(c)),this.setAttribute("icon",c)}get inline(){return Vn(this)}set inline(c){c?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const c=this._state;if(c.rendered){const d=this._shadowRoot;if(c.renderedMode==="svg")try{d.lastChild.setCurrentTime(0);return}catch{}Hi(d,c)}}get status(){const c=this._state;return c.rendered?"rendered":c.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const c=this._state,d=this.getAttribute("icon");if(d!==c.icon.value){this._iconChanged(d);return}if(!c.rendered)return;const f=this.getAttribute("mode"),g=Ai(this);(c.attrMode!==f||fs(c.customisations,g))&&this._renderIcon(c.icon,g,f)}_iconChanged(c){const d=js(c,(f,g,m)=>{const v=this._state;if(v.rendered||this.getAttribute("icon")!==f)return;const S={value:f,name:g,data:m};S.data?this._gotIconData(S):v.icon=S});d.data?this._gotIconData(d):this._state=Di(d,this._state.inline,this._state)}_gotIconData(c){this._checkQueued=!1,this._renderIcon(c,Ai(this),this.getAttribute("mode"))}_renderIcon(c,d,f){const g=qs(c.data.body,f),m=this._state.inline;Hi(this._shadowRoot,this._state={rendered:!0,icon:c,inline:m,customisations:d,attrMode:f,renderedMode:g})}};e.forEach(l=>{l in r.prototype||Object.defineProperty(r.prototype,l,{get:function(){return this.getAttribute(l)},set:function(c){c!==null?this.setAttribute(l,c):this.removeAttribute(l)}})});const a=vo();for(const l in a)r[l]=r.prototype[l]=a[l];return s.define(o,r),r}cr()||vo();const lr=`:host{display:flex;position:relative;justify-content:center;align-items:stretch}.bottom-img{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.top-img{position:absolute;-webkit-mask-image:linear-gradient(90deg,rgb(0 0 0 / 0%) 35%,rgb(255 255 255 / 100%) 50%,rgb(0 0 0 / 0%) 65%);mask-image:linear-gradient(90deg,rgb(0 0 0 / 0%) 35%,rgb(255 255 255 / 100%) 50%,rgb(0 0 0 / 0%) 65%);-webkit-mask-size:300% 100%;mask-size:300% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;filter:brightness(1.8);animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;animation-name:flicker;max-width:100%;max-height:100%}@keyframes flicker{0%{-webkit-mask-position:150% 0%;mask-position:150% 0%}30%{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}to{-webkit-mask-position:-150% 0%;mask-position:-150% 0%}}
`,hr=`<img class="bottom-img" src="./images/luffy.png" alt="luffy avatar" />\r
<img class="top-img" src="./images/luffy.png" alt="luffy avatar" />`,dr="luffy-logo",Io=document.createElement("template");Io.innerHTML=hr;class ur extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=lr,s.append(t,Io.content.cloneNode(!0))}}customElements.define(dr,ur);const fr=":host{--slider-thumb-size: 2em;display:flex;position:relative}.slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background:transparent;width:100%;height:2.5em;font-size:inherit}.slider::-webkit-slider-runnable-track{box-shadow:0 0 .125em .0625em #000c;border:.0625em solid rgb(0 0 0 / 50%);border-radius:.1em;background-color:var(--theme-color);height:.75em}.slider::-moz-range-track{box-shadow:0 0 .125em .0625em #000c;border:.0625em solid rgb(0 0 0 / 50%);border-radius:.1em;background-color:var(--theme-color);height:.75em}.slider::-webkit-slider-thumb{position:relative;top:-.75em;-webkit-appearance:none;-moz-appearance:none;appearance:none;filter:var(--element-filter);-webkit-transition:filter .05s;transition:filter .05s;cursor:pointer;border:0;background:url("+new URL("../images/slider-thumb.png",import.meta.url).href+");background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;width:var(--slider-thumb-size);height:var(--slider-thumb-size)}.slider::-moz-range-thumb{position:relative;top:-.75em;filter:var(--element-filter);cursor:pointer;border:0;background:url("+new URL("../images/slider-thumb.png",import.meta.url).href+`);background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;width:var(--slider-thumb-size);height:var(--slider-thumb-size)}.slider::-webkit-slider-thumb:hover{filter:var(--element-hover-filter)}.thumb-text-wrapper{display:flex;position:absolute;top:31%;justify-content:center;align-items:center;width:var(--slider-thumb-size);pointer-events:none;color:#fff}.thumb-text-wrapper span{font-size:.75em}
`,pr=`<input class="slider" type="range" />\r
<div class="thumb-text-wrapper">\r
  <span id="thumbText"></span>\r
</div>`,gr="range-slider",mr=["value","max","min","step"],Eo=document.createElement("template");Eo.innerHTML=pr;const br=6.5,yr=13;var H,Ot,ye,li;class wr extends HTMLElement{constructor(){super();h(this,ye);h(this,H,void 0);h(this,Ot,void 0);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=fr,t.append(i,Eo.content.cloneNode(!0)),u(this,H,t.querySelector("input")),u(this,Ot,t.querySelector("#thumbText")),n(this,H).addEventListener("input",()=>p(this,ye,li).call(this))}get value(){return n(this,H).value}set value(t){n(this,H).value=t,n(this,Ot).innerText=t,p(this,ye,li).call(this)}static get observedAttributes(){return mr}attributeChangedCallback(t,i,e){switch(t){case"value":this.value=e;break;default:n(this,H).setAttribute(t,e);break}}}H=new WeakMap,Ot=new WeakMap,ye=new WeakSet,li=function(){const t=parseFloat(n(this,H).max),i=parseFloat(n(this,H).min),r=(parseFloat(n(this,H).value)-i)/(t-i)*100;n(this,Ot).innerText=this.value;const a=-r+(br-yr*r/100),l=n(this,Ot).parentElement;l.style.left=r+"%",l.style.transform=`translateX(${a}%)`};customElements.define(gr,wr);const xr=`:host{display:grid;grid-template-columns:1fr auto;align-items:center;gap:1rem}select{flex-grow:1;box-shadow:0 0 .25em #0000007f;border:0;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.25em;width:100%;color:#3b230e;font-size:1rem;text-overflow:ellipsis;white-space:nowrap}select:focus-visible{outline:none}option{background-color:#f5da9e}#fileInput{display:none}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:#3b230e}::-webkit-scrollbar-corner{background:transparent}
`,vr=`<select></select>\r
<icon-button icon="mingcute:add-fill" title="Add new font" aria-label="Add new font"></icon-button>\r
<input id="fileInput" type="file" accept=".otf,.sfnt,.ttf,.woff,.woff2">`,Sr="font-select",kr=["value"],Lo=document.createElement("template");Lo.innerHTML=vr;var M,we,nt,it,Mt,xe,yn,To,ve,hi,Se,di,ke,ui;class Ir extends HTMLElement{constructor(){super();h(this,yn);h(this,ve);h(this,Se);h(this,ke);h(this,M,void 0);h(this,we,void 0);h(this,nt,void 0);h(this,it,new Set);h(this,Mt,null);h(this,xe,!1);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=xr,t.append(i,Lo.content.cloneNode(!0)),u(this,M,t.querySelector("select")),n(this,M).addEventListener("input",()=>{n(this,M).style.fontFamily=n(this,M).value}),n(this,M).addEventListener("click",()=>{p(this,yn,To).call(this)}),u(this,we,t.querySelector("icon-button")),u(this,nt,t.querySelector("#fileInput")),n(this,we).addEventListener("click",()=>{n(this,nt).click()}),n(this,nt).addEventListener("input",async r=>{r.stopImmediatePropagation();const a=n(this,nt).files?n(this,nt).files[0]:null;if(!a)return;const l=URL.createObjectURL(a),c=a.name.split(".")[0],d=new FontFace(c,`url(${l})`);try{await d.load(),document.fonts.add(d),p(this,ve,hi).call(this,c),this.value=c,this.dispatchEvent(new CustomEvent("input"))}catch{}});const e=new Set;Array.from(document.fonts).forEach(r=>e.add(r.family)),p(this,Se,di).call(this,e),document.fonts.addEventListener("loadingdone",()=>{document.fonts.forEach(r=>{n(this,it).has(r.family)||(p(this,ve,hi).call(this,r.family),r.family===n(this,Mt)&&(this.value=n(this,Mt),u(this,Mt,null)))})})}get value(){return n(this,M).value}set value(t){n(this,M).style.fontFamily=t,n(this,M).value=t,u(this,Mt,n(this,it).has(t)?null:t)}static get observedAttributes(){return kr}attributeChangedCallback(t,i,e){switch(t){case"value":this.value=e;break}}}M=new WeakMap,we=new WeakMap,nt=new WeakMap,it=new WeakMap,Mt=new WeakMap,xe=new WeakMap,yn=new WeakSet,To=async function(){if(!(!window.queryLocalFonts||n(this,xe)))try{const t=await window.queryLocalFonts(),i=new Set;for(const e of t)i.add(e.family);await p(this,Se,di).call(this,i),u(this,xe,!0)}catch(t){console.error(t)}},ve=new WeakSet,hi=function(t){n(this,it).add(t);const i=p(this,ke,ui).call(this,t);n(this,M).appendChild(i)},Se=new WeakSet,di=async function(t){const i=Array.from(t),e=5,r=Math.ceil(i.length/e);for(let a=0;a<r;a++){const l=new DocumentFragment,c=a*e,d=Math.min((a+1)*e,i.length);for(let f=c;f<d;f++){const g=i[f];if(n(this,it).has(g))continue;n(this,it).add(g);const m=p(this,ke,ui).call(this,g);l.appendChild(m)}n(this,M).appendChild(l),await new Promise(f=>{setTimeout(()=>f(),20)})}},ke=new WeakSet,ui=function(t){const i=document.createElement("option");return i.value=t,i.innerText=t,i.style.fontFamily=t,i};customElements.define(Sr,Ir);const Er=`:host{display:inline-flex;position:relative;justify-content:center;filter:contrast(100%) brightness(100%) drop-shadow(1px 1px 1px rgb(0 0 0 / 50%)) drop-shadow(-1px -1px 1px rgb(0 0 0 / 50%));transition:.05s;cursor:pointer;outline:none;background-color:transparent;width:4.25rem;height:5rem}:host(:hover:not([loading])){filter:contrast(105%) brightness(105%) drop-shadow(1px 4px 3px rgb(0 0 0 / 50%)) drop-shadow(-1px 0 3px rgb(0 0 0 / 50%))}:host(:active:not([loading])){transform:translateY(1px);filter:contrast(105%) brightness(105%) drop-shadow(1px 2px 1px rgb(0 0 0 / 60%)) drop-shadow(-1px 0 1px rgb(0 0 0 / 60%))}.img{position:absolute;max-width:100%;max-height:100%}.icon{display:flex;position:absolute;top:21%;justify-content:center;align-items:center;box-sizing:border-box;width:82%;height:44%;color:#513721;font-size:1.5rem}iconify-icon{display:none}:host([loading]){cursor:wait}:host([loading]) iconify-icon{display:inline}.text{display:flex;position:absolute;bottom:12%;justify-content:center;align-items:center;box-sizing:border-box;width:85%;height:20%;overflow:hidden;color:#513721;font-weight:900;font-size:.9rem;font-family:Scheherazade New,serif;text-align:justify;white-space:nowrap}
`,Lr=`<img class="img" alt="button image" />\r
<div class="icon">\r
  <slot name="icon"></slot>\r
  <iconify-icon icon="eos-icons:loading"></iconify-icon>\r
</div>\r
<span class="text">\r
  <slot></slot>\r
</span>`,Tr=""+new URL("wanted-c2a6dd7a.png",import.meta.url).href,Cr="wanted-button",Ar=["font-size"],Co=document.createElement("template");Co.innerHTML=Lr;var Ie,Ee;class Rr extends HTMLElement{constructor(){var e;super();h(this,Ie,void 0);h(this,Ee,void 0);const t=this.attachShadow({mode:"open"});u(this,Ie,t);const i=document.createElement("style");i.textContent=Er,t.append(i,Co.content.cloneNode(!0)),(e=t.querySelector("img"))==null||e.setAttribute("src",Tr),u(this,Ee,t.querySelector("span.text"))}static get observedAttributes(){return Ar}set loading(t){const i=n(this,Ie).querySelector("slot[name=icon]");i&&(i.style.display=t?"none":"contents"),t?this.setAttribute("loading",""):this.removeAttribute("loading")}get loading(){return this.hasAttribute("loading")}attributeChangedCallback(t,i,e){switch(t){case"font-size":n(this,Ee).style.fontSize=e;break}}}Ie=new WeakMap,Ee=new WeakMap;customElements.define(Cr,Rr);const Gi=""+new URL("circle-button-78c4b94b.png",import.meta.url).href,Fr=`:host{--filter: drop-shadow(.125em 0 .125em rgb(0 0 0 / 40%)) drop-shadow(-.125em 0 .125em rgb(0 0 0 / 40%)) contrast(100%) brightness(100%);--hover-filter: drop-shadow(.1875em 0 .1875em rgb(0 0 0 / 40%)) drop-shadow(-.1875em 0 .1875em rgb(0 0 0 / 50%)) contrast(105%) brightness(105%);--active-filter: drop-shadow(.0625em 0 .125em rgb(0 0 0 / 60%)) drop-shadow(-.0625em 0 .125em rgb(0 0 0 / 70%)) contrast(105%) brightness(105%);display:flex;justify-content:center;align-items:center;filter:var(--filter);transition:.1s;cursor:pointer;outline:none;border:0;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:transparent;padding-bottom:.05em;width:2em;height:2em;color:#fff}:host(:hover){filter:var(--hover-filter)}:host(:active){transform:translateY(.0625em);filter:var(--active-filter)}iconify-icon{pointer-events:none}
`,Pr='<iconify-icon part="icon"></iconify-icon>',zr="icon-button",Or=["icon","mode","flip","height","width","inline","preserveAspectRatio","rotate"],Ao=document.createElement("template");Ao.innerHTML=Pr;var Le;class Mr extends HTMLElement{constructor(){var e;super();h(this,Le,void 0);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=Fr,t.append(i,Ao.content.cloneNode(!0)),(e=t.querySelector("img"))==null||e.setAttribute("src",Gi),u(this,Le,t.querySelector("iconify-icon"))}static get observedAttributes(){return Or}connectedCallback(){this.style.backgroundImage=`url(${Gi})`}attributeChangedCallback(t,i,e){n(this,Le).setAttribute(t,e)}}Le=new WeakMap;customElements.define(zr,Mr);const Br=":host{display:block;position:fixed;top:0;left:0;visibility:hidden;opacity:0;filter:drop-shadow(0 0 5px rgb(0 0 0 / 60%));transition:.2s;box-sizing:border-box;margin-top:3rem;margin-left:.5rem;background-image:url("+new URL("../images/tips-paper.png",import.meta.url).href+`);background-size:contain;background-repeat:no-repeat;padding:1rem .8rem 1rem 1rem;width:17.62rem;max-width:100vw;height:26.33rem;color:var(--dark-text-color);font-size:.8rem}:host([open]){visibility:visible;opacity:1}.content{height:100%;overflow:auto}.content h3{border-bottom:1px solid var(--dark-text-color)}.content *{margin-block-start:.5em;margin-block-end:1em}a{position:relative;outline:none;text-decoration:none}a:after{position:absolute;bottom:0;left:0;border-bottom:.2rem solid rgb(211 255 77 / 50%);width:100%;height:1px;content:" "}a:link{color:#009637}a:visited{color:#558f6a}::-webkit-scrollbar{width:.1rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:var(--dark-text-color)}::-webkit-scrollbar-corner{background:transparent}
`,Ur=`<div class="content">\r
\r
  <h3>Import image as the wanted photo</h3>\r
  <p>\r
    Click <b>IMPORT</b> button to choose an image from your device storage, or drag and drop the image anywhere on this\r
    page.\r
  </p>\r
\r
  <h3>Adjust the position of the photo</h3>\r
  <p>\r
    After importing the image, click(or touch) and drag the photo to adjust the position.\r
  </p>\r
\r
  <h3>Resize the imported photo</h3>\r
  <p>\r
    - Move the cursor over the photo, and scroll the mouse wheel to zoom in or zoom out.\r
  </p>\r
  <p>\r
    - Move the cursor over the red border around the photo and drag it to resize.\r
  </p>\r
  <p>\r
    - For the touch screen device, touch two fingers on the top of the photo, and move them apart to zoom in, or\r
    together to\r
    zoom out.\r
  </p>\r
\r
  <h3>Name and Bounty</h3>\r
  <P>\r
    Click <b>EDIT</b> button to open the edit panel, there are text input fields inside the <b>Name</b> and\r
    <b>Bounty</b>\r
    section.\r
  </P>\r
  <p>\r
    You can input any text for both of them, however if you input a number in the bounty text field, the Belly sign will\r
    be rendered in the front of the bounty text on the poster, and also automatically insert decimal commas for the\r
    bounty.\r
  </p>\r
\r
  <h3>Install this app on your device</h3>\r
  <p>\r
    <b>NOTE: For now, only Chrome and Edge support this feature.</b>\r
  </p>\r
  <p>\r
    This web application support <a href="https://en.wikipedia.org/wiki/Progressive_web_app" target="_blank">PWA</a>,\r
    which means you can\r
    install it as a native app on your device, and launch it directly without opening the browser.\r
\r
  </p>\r
  <p>\r
    Check out the <a href="https://support.google.com/chrome/answer/9658361?hl=en&co=GENIE.Platform%3DDesktop"\r
      target="_blank">installation guide</a>.</p>\r
\r
</div>`,Nr="tips-dialog",Ro=document.createElement("template");Ro.innerHTML=Ur;class _r extends HTMLElement{constructor(){super();const s=this.attachShadow({mode:"open"}),t=document.createElement("style");t.textContent=Br,s.append(t,Ro.content.cloneNode(!0))}toggle(){this.hasAttribute("open")?this.removeAttribute("open"):this.setAttribute("open","")}}customElements.define(Nr,_r);const jr=""+new URL("belly-af8e0dab.png",import.meta.url).href,qr=""+new URL("one-piece-wanted-ed269d97.png",import.meta.url).href,Jn={imageUrl:qr,bellyImageUrl:jr,photoPosition:{x:74,y:252,width:638,height:484},namePosition:{x:87,y:826,width:586,height:114},bountyInfo:{x:82,y:958,width:592,height:85,bellyMarginRight:18,fontSize:52.5},boundaryOffset:{left:10,right:10,top:10,bottom:10}},$r=`:host{display:block;width:100%;height:100%;touch-action:none}.container{display:flex;position:relative;justify-content:center;align-items:center;box-sizing:border-box;width:100%;height:100%}
`;function mn(o){return new Promise((s,t)=>{const i=new Image;i.setAttribute("crossorigin","anonymous"),i.onload=()=>s(i),i.onerror=t,i.src=o})}function Li(o,s,t,i){const e=o/t,r=s/i;return Math.min(r,e)}class Ti{constructor(s){E(this,"x",0);E(this,"y",0);E(this,"width",0);E(this,"height",0);E(this,"ctx");this.ctx=s}scale(s){this.x=this.x*s,this.y=this.y*s,this.width=this.width*s,this.height=this.height*s}}var Kt,Jt,wn,Po;class Fo extends Ti{constructor(){super(...arguments);h(this,wn);h(this,Kt,"");h(this,Jt,0);E(this,"formattedText","");E(this,"align","center");E(this,"baseline","top");E(this,"fontSize",0);E(this,"fontWeight",400);E(this,"fontFamily","serif")}set text(t){u(this,Kt,t),this.formattedText=this.formatText(t,n(this,Jt))}get text(){return n(this,Kt)}set spacing(t){u(this,Jt,t),this.formattedText=this.formatText(n(this,Kt),t)}get spacing(){return n(this,Jt)}formatSpacing(t,i){let e="";for(let r=0;r<i;r++)e+=" ";return Array.from(t).join(e)}formatText(t,i=0){return this.formatSpacing(t,i)}getTextActualHeight(t){const{actualBoundingBoxAscent:i,actualBoundingBoxDescent:e}=this.ctx.measureText(t);return i+e}beforeRenderText(){}render(){this.ctx.save(),this.ctx.textAlign=this.align,this.ctx.textBaseline=this.baseline;const{x:t,y:i,maxWidth:e}=this.beforeRenderText()??{};p(this,wn,Po).call(this,t,i,e),this.ctx.restore()}}Kt=new WeakMap,Jt=new WeakMap,wn=new WeakSet,Po=function(t=this.x,i=this.y,e=this.width){this.ctx.fillStyle="rgba(0,0,0,0.78)",this.ctx.globalCompositeOperation="soft-light",this.ctx.fillText(this.formattedText,t,i,e),this.ctx.fillText(this.formattedText,t,i,e),this.ctx.fillText(this.formattedText,t,i,e),this.ctx.fillStyle="rgba(84,60,48,1)",this.ctx.globalCompositeOperation="color",this.ctx.fillText(this.formattedText,t,i,e)};var Bt,xn,ot,Ut,Te;class Qi extends Fo{constructor(){super(...arguments);h(this,Bt,!0);h(this,xn,new Intl.NumberFormat);h(this,ot,null);h(this,Ut,1);h(this,Te,0);E(this,"fontScale",1);E(this,"verticalOffset",0)}async loadBellyImage(t){try{u(this,ot,await mn(t))}catch(i){throw console.error(i),new Error("Failed to init bounty.")}}setBountyInfo(t,i){const{x:e,y:r,width:a,height:l,bellyMarginRight:c,fontSize:d}=t;this.x=e,this.y=r,this.width=a,this.height=l,this.fontSize=d,u(this,Te,c),u(this,Ut,i)}formatText(t,i=0){const e=Number.parseFloat(t);if(Number.isNaN(e))return u(this,Bt,!1),this.formatSpacing(t,i);u(this,Bt,!0);const r=n(this,xn).format(e)+"-";return this.formatSpacing(r,i)}beforeRenderText(){if(!n(this,ot))return;const t=n(this,ot).width*n(this,Ut),i=n(this,ot).height*n(this,Ut);this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font=`${this.fontWeight} ${this.fontSize*this.fontScale}px ${this.fontFamily}, serif`;const e=this.x+this.width/2,r=n(this,Bt)?t+n(this,Te):0,a=this.getTextActualHeight(this.formattedText),l=(this.height-a)/2+this.verticalOffset*n(this,Ut),c=e+r/2,d=this.y+l,f=this.width-r;if(n(this,Bt)){const g=Math.min(this.ctx.measureText(this.formattedText).width,f),m=e-r/2-g/2;this.ctx.globalCompositeOperation="darken",this.ctx.drawImage(n(this,ot),m,this.y,t,i)}return{x:c,y:d,maxWidth:f}}}Bt=new WeakMap,xn=new WeakMap,ot=new WeakMap,Ut=new WeakMap,Te=new WeakMap;var vn;class Yi extends Fo{constructor(){super(...arguments);h(this,vn,1.6)}setPosition(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.fontSize=this.height*n(this,vn)}beforeRenderText(){this.ctx.font=`700 ${this.fontSize}px 'Scheherazade New', serif`;const t=this.getTextActualHeight(this.formattedText),i=this.height/t,e=(t-this.height)/2;this.ctx.font=`700 ${Math.floor(this.fontSize*i)}px 'Scheherazade New', serif`;const r=this.x+this.width/2,a=this.y+e;return{x:r,y:a,maxWidth:this.width}}}vn=new WeakMap;const Wr=""+new URL("paper-6a3dae0b.png",import.meta.url).href,Xi={x:0,y:0,width:0,height:0};var Ce,st,D,Zt,B,Ae,Nt,Sn,zo;class Vi extends Ti{constructor(){super(...arguments);h(this,Sn);E(this,"filter","");E(this,"shadow",0);h(this,Ce,1);h(this,st,new Map);h(this,D,null);h(this,Zt,null);h(this,B,{...Xi});h(this,Ae,{...Xi});h(this,Nt,{left:0,right:0,top:0,bottom:0})}async init(t,i){try{this.setBoundary(t,i);const e=await mn(Wr);u(this,Zt,this.ctx.createPattern(e,"repeat"))}catch(e){throw console.error(e),new Error("Failed to create fill pattern.")}}async loadImage(t){var i;if(t)try{u(this,D,await mn(t)),p(this,Sn,zo).call(this),(i=n(this,st).get("imageloaded"))==null||i.forEach(e=>e())}catch(e){throw console.error(e),new Error("Failed to load photo image.")}}scale(t){super.scale(t),this.updateRenderPosition()}setBoundary(t,i){u(this,B,{...t}),u(this,Nt,{...i})}updateRenderPosition(){if(!n(this,D))return;const t=Li(this.width,this.height,n(this,D).width,n(this,D).height),i=n(this,D).width*t,e=n(this,D).height*t,r=this.x+(this.width-i)/2,a=this.y+(this.height-e)/2;u(this,Ae,{x:r,y:a,width:i,height:e}),u(this,Ce,t)}on(t,i){var e;n(this,st).has(t)||n(this,st).set(t,[]),(e=n(this,st).get(t))==null||e.push(i)}off(t,i){const e=n(this,st).get(t);if(!e)return;const r=e.findIndex(a=>a===i);e.splice(r,1)}render(){if(this.ctx.save(),this.ctx.shadowColor="rgba(0, 0, 0, 1)",this.ctx.shadowBlur=this.shadow*n(this,Ce),this.ctx.fillStyle=n(this,Zt)?n(this,Zt):"none",this.ctx.fillRect(n(this,B).x,n(this,B).y,n(this,B).width,n(this,B).height),!n(this,D)){this.ctx.restore();return}const{x:t,y:i,width:e,height:r}=n(this,Ae);this.ctx.filter=this.filter,this.ctx.drawImage(n(this,D),t,i,e,r);const{left:a,right:l,top:c,bottom:d}=n(this,Nt);t<=a&&this.ctx.clearRect(0,i,a,r),i<=c&&this.ctx.clearRect(t,0,e,c),t+e>this.ctx.canvas.domWidth-l&&this.ctx.clearRect(this.ctx.canvas.domWidth-l,i,l,r),i+r>this.ctx.canvas.domHeight-d&&this.ctx.clearRect(t,this.ctx.canvas.domHeight-d,e,d),this.ctx.restore()}}Ce=new WeakMap,st=new WeakMap,D=new WeakMap,Zt=new WeakMap,B=new WeakMap,Ae=new WeakMap,Nt=new WeakMap,Sn=new WeakSet,zo=function(){this.x=n(this,B).x,this.y=n(this,B).y,this.width=n(this,B).width,this.height=n(this,B).height,u(this,Nt,{...n(this,Nt)}),u(this,B,{x:this.x,y:this.y,width:this.width,height:this.height}),this.updateRenderPosition()};const Ki=4,Ji=[10,5];var x,_t,U,rt,X,at,jt,qt,Re,Fe,q,$t,Pe,ze,kn,Oo,In,Mo,En,Bo,Ln,Uo,Tn,No,Cn,_o,An,jo,Rn,qo,Fn,$o,Oe,fi,Me,pi,Be,gi,Ue,mi,Pn,Wo,zn,Ho,On,Do;class Hr extends Ti{constructor(t,i){super(t);h(this,kn);h(this,In);h(this,En);h(this,Ln);h(this,Tn);h(this,Cn);h(this,An);h(this,Rn);h(this,Fn);h(this,Oe);h(this,Me);h(this,Be);h(this,Ue);h(this,Pn);h(this,zn);h(this,On);h(this,x,void 0);h(this,_t,!1);h(this,U,!1);h(this,rt,!1);h(this,X,!1);h(this,at,Ki);h(this,jt,Ji);h(this,qt,null);h(this,Re,0);h(this,Fe,0);h(this,q,new Map);h(this,$t,0);h(this,Pe,0);h(this,ze,0);u(this,x,i),i.on("imageloaded",()=>this.reset()),t.canvas.addEventListener("mouseover",p(this,In,Mo).bind(this),{passive:!0}),t.canvas.addEventListener("mouseout",p(this,En,Bo).bind(this),{passive:!0}),t.canvas.addEventListener("wheel",p(this,kn,Oo).bind(this),{passive:!0}),t.canvas.addEventListener("pointerdown",p(this,Tn,No).bind(this),{passive:!0}),t.canvas.addEventListener("pointerup",p(this,Cn,_o).bind(this),{passive:!0}),t.canvas.addEventListener("pointercancel",p(this,An,jo).bind(this),{passive:!0}),t.canvas.addEventListener("pointermove",p(this,Rn,qo).bind(this),{passive:!0}),t.canvas.addEventListener("pointerout",p(this,Fn,$o).bind(this),{passive:!0})}set borderScale(t){u(this,at,Ki*t),u(this,jt,Ji.map(i=>i*t))}set highlight(t){u(this,_t,t)}scale(t){super.scale(t),n(this,x).scale(t)}reset(){this.x=n(this,x).x,this.y=n(this,x).y,this.width=n(this,x).width,this.height=n(this,x).height,u(this,U,!1),u(this,rt,!1),u(this,X,!1)}render(){!n(this,U)&&!n(this,X)&&!n(this,_t)||(this.ctx.save(),cn(this,$t)._++,n(this,$t)>=n(this,jt)[0]+n(this,jt)[1]&&u(this,$t,0),this.ctx.lineDashOffset=-n(this,$t),this.ctx.fillStyle="rgba(255,255,255,0.5)",this.ctx.strokeStyle="red",this.ctx.lineWidth=n(this,at),this.ctx.setLineDash(n(this,jt)),this.ctx.fillRect(this.x,this.y,this.width,this.height),this.ctx.strokeRect(this.x,this.y,this.width,this.height),this.ctx.restore())}}x=new WeakMap,_t=new WeakMap,U=new WeakMap,rt=new WeakMap,X=new WeakMap,at=new WeakMap,jt=new WeakMap,qt=new WeakMap,Re=new WeakMap,Fe=new WeakMap,q=new WeakMap,$t=new WeakMap,Pe=new WeakMap,ze=new WeakMap,kn=new WeakSet,Oo=function(t){const i=t.deltaY>0?.95:1.05;p(this,Ue,mi).call(this,i)},In=new WeakSet,Mo=function(){const{left:t,top:i}=this.ctx.canvas.getBoundingClientRect();u(this,Re,i),u(this,Fe,t)},En=new WeakSet,Bo=function(){u(this,U,!1)},Ln=new WeakSet,Uo=function(t){const i=t.clientX-n(this,Fe),e=t.clientY-n(this,Re);if(n(this,rt)){const r=t.clientX-n(this,Pe),a=t.clientY-n(this,ze);p(this,On,Do).call(this,r,a)}n(this,X)||p(this,Pn,Wo).call(this,i,e),p(this,Oe,fi).call(this,i,e,this.x,this.y,this.width,this.height,n(this,at))?(u(this,U,!0),u(this,_t,!1)):u(this,U,!1),u(this,Pe,t.clientX),u(this,ze,t.clientY)},Tn=new WeakSet,No=function(t){if(u(this,_t,!1),t.pointerType==="mouse"&&t.button===0){u(this,rt,!0);return}n(this,q).set(t.pointerId,t);const{left:i,top:e}=this.ctx.canvas.getBoundingClientRect();let r=!1;for(const a of n(this,q).values()){const l=a.clientX-i,c=a.clientY-e;if(p(this,Oe,fi).call(this,l,c,this.x,this.y,this.width,this.height,n(this,at))){r=!0;break}}u(this,U,r)},Cn=new WeakSet,_o=function(t){if(t.pointerType==="mouse"&&t.button===0){u(this,rt,!1),u(this,X,!1);return}p(this,Me,pi).call(this,t)},An=new WeakSet,jo=function(t){p(this,Me,pi).call(this,t)},Rn=new WeakSet,qo=function(t){if(t.pointerType==="mouse"){p(this,Ln,Uo).call(this,t);return}const i=Array.from(n(this,q).values());if(i.length===1&&n(this,U)){const e=i[0],{clientX:r,clientY:a}=t,l=n(this,q).get(e.pointerId);if(l){const c=r-l.clientX,d=a-l.clientY;this.x+=c,this.y+=d,n(this,x).x+=c,n(this,x).y+=d,n(this,x).updateRenderPosition()}}if(i.length===2&&n(this,U)){const e=n(this,q).get(i[0].pointerId),r=n(this,q).get(i[1].pointerId);if(e&&r){const a=i[0].pointerId===t.pointerId?i[1]:i[0],l=p(this,Be,gi).call(this,a,t),c=p(this,Be,gi).call(this,e,r),d=l>c?1.02:.98;p(this,Ue,mi).call(this,d)}}n(this,q).set(t.pointerId,t)},Fn=new WeakSet,$o=function(t){t.pointerType==="mouse"&&(u(this,rt,!1),u(this,X,!1))},Oe=new WeakSet,fi=function(t,i,e,r,a,l,c=0){const d=c/2,f=e-d,g=r-d,m=e+a+d,v=r+l+d,S=t>=f&&t<=m,k=i>=g&&i<=v;return S&&k},Me=new WeakSet,pi=function(t){n(this,q).delete(t.pointerId),n(this,q).size||u(this,U,!1)},Be=new WeakSet,gi=function(t,i){const e=Math.abs(t.clientX-i.clientX),r=Math.abs(t.clientY-i.clientY);return Math.pow(e,2)+Math.pow(r,2)},Ue=new WeakSet,mi=function(t){const i=this.width*t-this.width,e=this.height*t-this.height;this.x=this.x-i/2,this.width=this.width+i,this.y=this.y-e/2,this.height=this.height+e,n(this,x).x=this.x,n(this,x).y=this.y,n(this,x).width=this.width,n(this,x).height=this.height,n(this,x).updateRenderPosition()},Pn=new WeakSet,Wo=function(t,i){const e=p(this,zn,Ho).call(this,t,i,this.x,this.y,this.width,this.height,n(this,at));e.left||e.right?(this.ctx.canvas.style.cursor="ew-resize",u(this,qt,e.left?"left":"right")):e.top||e.bottom?(this.ctx.canvas.style.cursor="ns-resize",u(this,qt,e.top?"top":"bottom")):n(this,U)?this.ctx.canvas.style.cursor="move":this.ctx.canvas.style.cursor="default"},zn=new WeakSet,Ho=function(t,i,e,r,a,l,c=0){const d=c/2,f=e-d,g=r-d,m=e+a+d,v=r+l+d,S=e+d,k=r+d,Ft=e+a-d,et=r+l-d;return{left:t>=f&&t<=S,right:t>=Ft&&t<=m,top:i>=g&&i<=k,bottom:i>=et&&i<=v}},On=new WeakSet,Do=function(t,i){switch(this.ctx.canvas.style.cursor){case"move":this.x+=t,this.y+=i,n(this,x).x+=t,n(this,x).y+=i,n(this,x).updateRenderPosition();break;case"ew-resize":{if(u(this,X,!0),n(this,qt)==="right"){const e=Math.max(this.width+t,1);this.width=e,n(this,x).width=e}else{const e=this.x+t;if(e>=this.x+this.width)break;const r=this.width-t;this.x=e,n(this,x).x=e,this.width=r,n(this,x).width=r}n(this,x).updateRenderPosition();break}case"ns-resize":{if(u(this,X,!0),n(this,qt)==="bottom"){const e=Math.max(this.height+i,1);this.height=e,n(this,x).height=e}else{const e=this.y+i;if(e>=this.y+this.height)break;const r=this.height-i;this.y=e,n(this,x).y=e,this.height=r,n(this,x).height=r}n(this,x).updateRenderPosition()}}};var $,T,K,Ne,V,Wt,Mn,Go;class Zi{constructor(s,t){h(this,Mn);h(this,$,void 0);h(this,T,void 0);h(this,K,0);h(this,Ne,1);h(this,V,null);h(this,Wt,void 0);u(this,$,s),u(this,T,s.canvas),u(this,Wt,t)}async loadImage(){let s;try{s=await mn(n(this,Wt).imageUrl),u(this,V,s)}catch(t){throw console.error(t),new Error("Failed to load wanted image.")}return s}get imageScale(){return n(this,Ne)}setSize({width:s,height:t,shadowSize:i,quality:e}){if(!n(this,V))throw new Error("Failed to set size: wanted image is null");const r=n(this,V).width+i*2,a=n(this,V).height+i*2,l=Li(s,t,r,a);u(this,Ne,l);const c=r*l,d=a*l;switch(u(this,K,i*l),n(this,T).style.width=c+"px",n(this,T).style.height=d+"px",n(this,T).domWidth=c,n(this,T).domHeight=d,e){case"original":n(this,T).width=r,n(this,T).height=a,n(this,$).scale(1/l,1/l);break;case"high":{const g=window.devicePixelRatio;n(this,T).width=c*g,n(this,T).height=d*g,n(this,$).scale(g,g);break}case"half":{const g=n(this,V).height/d/2;n(this,T).width=c*g,n(this,T).height=d*g,n(this,$).scale(g,g);break}}return p(this,Mn,Go).call(this,l,i)}render(){n(this,V)&&(n(this,$).save(),n(this,$).shadowColor="rgba(0, 0, 0, 1)",n(this,$).shadowBlur=n(this,K)*(n(this,T).width/n(this,T).domWidth),n(this,$).drawImage(n(this,V),n(this,K),n(this,K),n(this,T).domWidth-n(this,K)*2,n(this,T).domHeight-n(this,K)*2),n(this,$).restore())}}$=new WeakMap,T=new WeakMap,K=new WeakMap,Ne=new WeakMap,V=new WeakMap,Wt=new WeakMap,Mn=new WeakSet,Go=function(s,t){if(!n(this,Wt))throw new Error("Failed to calculate wanted image info: WantedImageInfo object is null");t*=s;const{imageUrl:i,bellyImageUrl:e,photoPosition:r,namePosition:a,bountyInfo:l,boundaryOffset:c}=n(this,Wt),d=g=>{const{x:m,y:v,width:S,height:k}=g;return{x:m*s+t,y:v*s+t,width:S*s,height:k*s}},f={...d(l),bellyMarginRight:l.bellyMarginRight*s,fontSize:l.fontSize*s};return{imageUrl:i,bellyImageUrl:e,photoPosition:d(r),namePosition:d(a),bountyInfo:f,boundaryOffset:{left:c.left*s+t,right:c.right*s+t,top:c.top*s+t,bottom:c.bottom*s+t}}};const Dr="wanted-poster",Gr=["name","bounty","name-spacing","bounty-spacing","bounty-font-family","bounty-font-scale","bounty-font-weight","bounty-vertical-offset","photo-url","filter","poster-shadow","photo-shadow"];var Ht,ct,_e,N,lt,J,z,P,ht,te,je,W,Y,Bn,Qo,qe,bi,$e,yi;class Qr extends HTMLElement{constructor(){super();h(this,W);h(this,Bn);h(this,qe);h(this,$e);h(this,Ht,void 0);h(this,ct,void 0);h(this,_e,void 0);h(this,N,void 0);h(this,lt,void 0);h(this,J,void 0);h(this,z,void 0);h(this,P,void 0);h(this,ht,void 0);h(this,te,void 0);h(this,je,void 0);u(this,ht,"init");const t=this.attachShadow({mode:"open"}),i=document.createElement("canvas");i.domWidth=0,i.domHeight=0;const e=document.createElement("div");e.className="container";const r=document.createElement("style");r.textContent=$r,t.append(r,e);const a=i.getContext("2d");u(this,Ht,e),u(this,ct,i),u(this,_e,a),u(this,P,new Zi(a,Jn)),u(this,N,new Vi(a)),u(this,J,new Yi(a)),u(this,z,new Qi(a)),u(this,lt,new Hr(a,n(this,N))),u(this,te,new ResizeObserver(()=>{clearTimeout(n(this,je)),u(this,je,window.setTimeout(()=>p(this,qe,bi).call(this),200))})),n(this,te).observe(e)}static get observedAttributes(){return Gr}async connectedCallback(){console.log("[connected]"),await new Promise(e=>{setTimeout(()=>e(""))}),u(this,ht,"loading");const t=p(this,W,Y).call(this,"poster-shadow"),i=n(this,Ht).getBoundingClientRect();try{await n(this,P).loadImage();const e=n(this,P).setSize({width:i.width,height:i.height,shadowSize:t,quality:"half"});n(this,J).setPosition(e.namePosition),n(this,z).setBountyInfo(e.bountyInfo,n(this,P).imageScale),await n(this,z).loadBellyImage(Jn.bellyImageUrl),await n(this,N).init(e.photoPosition,e.boundaryOffset),await n(this,N).loadImage(this.getAttribute("photo-url"))}catch(e){u(this,ht,"error"),console.error("Failed to init wanted poster.",e);return}u(this,ht,"success"),p(this,$e,yi).call(this),n(this,Ht).appendChild(n(this,ct)),this.dispatchEvent(new CustomEvent("WantedPosterLoaded",{bubbles:!0}))}disconnectedCallback(){console.log("[disconnected]"),n(this,te).disconnect()}adoptedCallback(){console.log("[adopted]")}async attributeChangedCallback(t,i,e){switch(t){case"name":n(this,J).text=e;break;case"bounty":n(this,z).text=e;break;case"name-spacing":n(this,J).spacing=parseFloat(e)||0;break;case"bounty-spacing":n(this,z).spacing=parseFloat(e)||0;break;case"bounty-font-family":n(this,z).fontFamily=e;break;case"bounty-font-scale":n(this,z).fontScale=parseFloat(e)||1;break;case"bounty-font-weight":n(this,z).fontWeight=parseFloat(e)||600;break;case"bounty-vertical-offset":n(this,z).verticalOffset=parseFloat(e)||0;break;case"photo-url":{await n(this,N).loadImage(e),n(this,lt).highlight=!e.endsWith("#nohighlight");break}case"filter":{n(this,N).filter=e;break}case"poster-shadow":{p(this,qe,bi).call(this);break}case"photo-shadow":n(this,N).shadow=parseFloat(e)||0}}async export(){const t=document.createElement("canvas");t.domWidth=0,t.domHeight=0,t.style.display="none";const i=t.getContext("2d"),e=p(this,W,Y).call(this,"poster-shadow"),r=new Zi(i,Jn),a=new Vi(i),l=new Yi(i),c=new Qi(i),d=await r.loadImage(),f=d.width+e*2,g=d.height+e*2,m=r.setSize({width:f,height:g,shadowSize:e,quality:"original"});await c.loadBellyImage(m.bellyImageUrl),l.setPosition(m.namePosition),c.setBountyInfo(m.bountyInfo,1),l.text=this.getAttribute("name")??"",c.text=this.getAttribute("bounty")??"",l.spacing=p(this,W,Y).call(this,"name-spacing"),c.spacing=p(this,W,Y).call(this,"bounty-spacing"),c.fontFamily=this.getAttribute("bounty-font-family")??"",c.fontScale=p(this,W,Y).call(this,"bounty-font-scale",1),c.fontWeight=p(this,W,Y).call(this,"bounty-font-weight"),c.verticalOffset=p(this,W,Y).call(this,"bounty-vertical-offset"),await a.init(m.photoPosition,m.boundaryOffset),await a.loadImage(this.getAttribute("photo-url")),a.shadow=p(this,W,Y).call(this,"photo-shadow");const{x:v,y:S,width:k,height:Ft,filter:et}=n(this,N);a.x=v/n(this,P).imageScale,a.y=S/n(this,P).imageScale,a.width=k/n(this,P).imageScale,a.height=Ft/n(this,P).imageScale,a.filter=et,a.updateRenderPosition(),a.render(),r.render(),c.render(),l.render();let L="";try{const F=await new Promise((Gn,ce)=>{t.toBlob(w=>{w?Gn(w):ce("Failed to create blob object.")},"image/png",1)});L=URL.createObjectURL(F),p(this,Bn,Qo).call(this,L,"wanted-poster.png")}finally{L&&URL.revokeObjectURL(L)}}}Ht=new WeakMap,ct=new WeakMap,_e=new WeakMap,N=new WeakMap,lt=new WeakMap,J=new WeakMap,z=new WeakMap,P=new WeakMap,ht=new WeakMap,te=new WeakMap,je=new WeakMap,W=new WeakSet,Y=function(t,i=0){const e=this.getAttribute(t)||"";return parseFloat(e)||i},Bn=new WeakSet,Qo=function(t,i){const e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("download",i),e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},qe=new WeakSet,bi=function(){if(n(this,ht)!=="success")return;const t=p(this,W,Y).call(this,"poster-shadow"),i=n(this,Ht).getBoundingClientRect(),e=n(this,ct).getBoundingClientRect(),r=Li(i.width,i.height,e.width,e.height),a=n(this,P).setSize({width:i.width,height:i.height,shadowSize:t,quality:"half"});n(this,J).setPosition(a.namePosition),n(this,z).setBountyInfo(a.bountyInfo,n(this,P).imageScale),n(this,N).setBoundary(a.photoPosition,a.boundaryOffset),n(this,lt).scale(r),n(this,lt).borderScale=n(this,P).imageScale},$e=new WeakSet,yi=function(){n(this,_e).clearRect(0,0,n(this,ct).domWidth,n(this,ct).domHeight),n(this,N).render(),n(this,P).render(),n(this,z).render(),n(this,J).render(),n(this,lt).render(),requestAnimationFrame(p(this,$e,yi).bind(this))};customElements.define(Dr,Qr);const bn=new Map,be={photoUrl:"",name:"",bounty:"",nameSpacing:0,bountySpacing:1,bountyFontFamily:"Vertiky",bountyFontScale:1,bountyFontWeight:600,bountyVerticalOffset:-4,filter:"",posterShadow:0,photoShadow:0,blur:0,brightness:100,contrast:100,grayscale:0,hueRotate:0,saturate:100,sepia:0};function Yr(o){return o in be}function wi({blur:o,brightness:s,contrast:t,grayscale:i,hueRotate:e,saturate:r,sepia:a}){return`blur(${o}px) brightness(${s}%) contrast(${t}%) grayscale(${i}%) hue-rotate(${e}deg) saturate(${r}%) sepia(${a}%)`}const b=new Proxy({...be,filter:wi(be)},{set(o,s,t,i){if(!Yr(s))return!0;switch(s){case"blur":case"brightness":case"contrast":case"grayscale":case"hueRotate":case"saturate":case"sepia":{const e=wi({...o,[s]:t});if(e===o.filter)break;o.filter=e,setTimeout(()=>{(bn.get("filter")??[]).forEach(a=>a("filter",e,o))})}}return setTimeout(()=>{(bn.get(s)??[]).forEach(r=>r(s,t,o))}),Reflect.set(o,s,t,i)}});function y(o,s){let t=bn.get(o);t||(t=[],bn.set(o,t)),t.push(s)}function Zn(o={}){Object.assign(b,{...b,filter:wi(be),...o})}function Xr(o={}){Object.assign(b,{...be,...o})}const Vr=":host{--slider-thumb-size: 2rem;display:block;position:fixed;top:0;left:0;transform:translate(-105%);transition:transform .2s;box-sizing:border-box;box-shadow:.1rem 0 .3rem #0000007f;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.125rem;width:18.75rem;max-width:80%;height:100%}:host(.open){transform:translate(0)}.container{display:flex;flex-direction:column;box-sizing:border-box;box-shadow:inset 0 0 .2rem .2rem #0000007f;border:.0625rem solid rgb(180 150 81);background:url("+new URL("../images/wood-bg.png",import.meta.url).href+") repeat-y center top;background-size:100% auto;width:100%;height:100%}.field-container{display:flex;flex:1 0;flex-direction:column;gap:2.5rem;padding:1rem;overflow-x:hidden;overflow-y:auto}.action-container{display:flex;justify-content:space-around;align-items:center;padding:0 1rem;height:4rem}.wood-button{display:flex;justify-content:center;align-items:center;filter:var(--element-filter);transition:.05s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/wood-button.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;width:6rem;height:2rem;color:#fff;font-size:1rem;font-family:serif;text-shadow:var(--text-shadow)}.wood-button:hover{filter:var(--element-hover-filter)}.close-button{filter:var(--element-filter);transition:.1s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/close-button.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;width:2rem;height:2rem}.close-button:hover{filter:var(--element-hover-filter)}.wood-button:active,.close-button:active{transform:translateY(1px);filter:var(--element-active-filter)}.text-input{filter:var(--element-filter);box-sizing:border-box;outline:none;border:0;background-image:url("+new URL("../images/input-frame.png",import.meta.url).href+");background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding:0 .8rem 0 .75rem;width:100%;color:var(--dark-text-color);font-size:1rem;line-height:2rem;font-family:serif;text-align:center}.text-input::-moz-placeholder{color:#0000004d;font-size:1rem;text-shadow:none}.text-input::placeholder{color:#0000004d;font-size:1rem;text-shadow:none}.header{display:flex;position:relative;flex-shrink:0;justify-content:center;align-items:center;box-sizing:border-box;margin:0 auto 1.5em;background-image:url("+new URL("../images/scroll-paper.png",import.meta.url).href+`);background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding-bottom:.1rem;padding-left:.5rem;width:14rem;height:2.75rem;color:var(--dark-text-color);font-size:1rem}.field-group{display:grid;grid-template-columns:auto 1fr;-moz-column-gap:1rem;column-gap:1rem;row-gap:.5rem;align-items:center;color:#fff;text-align:right}.field-group label{font-size:.8rem;text-shadow:0 0 .25rem black,0 0 .5rem rgb(57 42 34)}::-moz-selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:#f5d58d}::-webkit-scrollbar-corner{background:transparent}
`,Kr=`<div class="container">\r
  <div class="field-container">\r
    <div>\r
      <h4 class="header">Name</h4>\r
      <div class="field-group">\r
        <label>Text</label>\r
        <input id="nameInput" class="text-input" placeholder="Name" />\r
\r
        <label>Spacing</label>\r
        <range-slider id="nameSpacingSlider" min="0" max="3"></range-slider>\r
      </div>\r
    </div>\r
\r
    <div>\r
      <h4 class="header">Bounty</h4>\r
\r
      <div class="field-group">\r
        <label>Text</label>\r
        <input id="bountyInput" class="text-input" placeholder="Bounty" />\r
\r
        <label>Spacing</label>\r
        <range-slider id="bountySpacingSlider" min="0" max="3"></range-slider>\r
\r
        <label>Font</label>\r
        <font-select id="bountyFontFamilySelect"></font-select>\r
\r
        <label>Size</label>\r
        <range-slider id="bountyFontScaleSlider" min="0.5" max="2" step="0.01"></range-slider>\r
\r
        <label>Weight</label>\r
        <range-slider id="bountyFontWeightSlider" min="100" max="900" step="100"></range-slider>\r
\r
        <label>Position</label>\r
        <range-slider id="bountyOffsetSlider" min="-20" max="20" step="0.5"></range-slider>\r
      </div>\r
    </div>\r
\r
\r
\r
    <div>\r
      <h4 class="header">Photo Filter</h4>\r
\r
      <div class="field-group">\r
        <label>Shadow</label>\r
        <range-slider id="photoShadowSlider" min="0" max="20"></range-slider>\r
\r
        <label>Blur</label>\r
        <range-slider id="blurSlider" min="0" max="10"></range-slider>\r
\r
        <label>Brightness</label>\r
        <range-slider id="brightnessSlider" min="0" max="200"></range-slider>\r
\r
        <label>Contrast</label>\r
        <range-slider id="contrastSlider" min="0" max="200"></range-slider>\r
\r
        <label>Grayscale</label>\r
        <range-slider id="grayscaleSlider" min="0" max="100"></range-slider>\r
\r
        <label>Hue Rotate</label>\r
        <range-slider id="hueRotateSlider" min="0" max="360"></range-slider>\r
\r
        <label>Saturate</label>\r
        <range-slider id="saturateSlider" min="0" max="200"></range-slider>\r
\r
        <label>Sepia</label>\r
        <range-slider id="sepiaSlider" min="0" max="100"></range-slider>\r
      </div>\r
    </div>\r
\r
    <div>\r
      <h4 class="header">Poster Shadow</h4>\r
      <range-slider id="posterShadowSlider" min="0" max="20"></range-slider>\r
    </div>\r
\r
  </div>\r
  <div class="action-container">\r
    <button id="closeButton" class="close-button" aria-label="Close edit panel button" title="Close"></button>\r
    <button id="resetButton" class="wood-button" aria-label="Reset button"\r
      title="Reset to default settings.">RESET</button>\r
  </div>\r
</div>`,Jr="edit-panel",Yo=document.createElement("template");Yo.innerHTML=Kr;var dt,ut,ft,pt,gt,mt,bt,yt,wt,xt,vt,St,kt,It,Et,Lt,Tt,We,He,De,I;class Zr extends HTMLElement{constructor(){super();h(this,dt,void 0);h(this,ut,void 0);h(this,ft,void 0);h(this,pt,void 0);h(this,gt,void 0);h(this,mt,void 0);h(this,bt,void 0);h(this,yt,void 0);h(this,wt,void 0);h(this,xt,void 0);h(this,vt,void 0);h(this,St,void 0);h(this,kt,void 0);h(this,It,void 0);h(this,Et,void 0);h(this,Lt,void 0);h(this,Tt,void 0);h(this,We,void 0);h(this,He,void 0);h(this,De,void 0);h(this,I,void 0);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=Vr,t.append(i,Yo.content.cloneNode(!0)),u(this,dt,t.querySelector("#nameInput")),u(this,ut,t.querySelector("#bountyInput")),u(this,ft,t.querySelector("#nameSpacingSlider")),u(this,pt,t.querySelector("#bountyFontFamilySelect")),u(this,gt,t.querySelector("#bountySpacingSlider")),u(this,mt,t.querySelector("#bountyFontScaleSlider")),u(this,bt,t.querySelector("#bountyFontWeightSlider")),u(this,yt,t.querySelector("#bountyOffsetSlider")),u(this,wt,t.querySelector("#posterShadowSlider")),u(this,xt,t.querySelector("#photoShadowSlider")),u(this,vt,t.querySelector("#blurSlider")),u(this,St,t.querySelector("#brightnessSlider")),u(this,kt,t.querySelector("#contrastSlider")),u(this,It,t.querySelector("#grayscaleSlider")),u(this,Et,t.querySelector("#hueRotateSlider")),u(this,Lt,t.querySelector("#saturateSlider")),u(this,Tt,t.querySelector("#sepiaSlider")),u(this,We,t.querySelector("#closeButton")),u(this,He,t.querySelector("#resetButton")),u(this,I,(e,r)=>{switch(r=r.toString(),e){case"name":n(this,dt).value=r;break;case"bounty":n(this,ut).value=r;break;case"nameSpacing":n(this,ft).value=r;break;case"bountySpacing":n(this,gt).value=r;break;case"bountyFontFamily":n(this,pt).value=r;break;case"bountyFontScale":n(this,mt).value=r;break;case"bountyFontWeight":n(this,bt).value=r;break;case"bountyVerticalOffset":n(this,yt).value=r;break;case"posterShadow":n(this,wt).value=r;break;case"photoShadow":n(this,xt).value=r;break;case"blur":n(this,vt).value=r;break;case"brightness":n(this,St).value=r;break;case"contrast":n(this,kt).value=r;break;case"grayscale":n(this,It).value=r;break;case"hueRotate":n(this,Et).value=r;break;case"saturate":n(this,Lt).value=r;break;case"sepia":n(this,Tt).value=r;break}}),u(this,De,e=>{e.composedPath().includes(this)||this.classList.contains("open")&&this.toggle()})}toggle(){this.classList.toggle("open")}connectedCallback(){window.addEventListener("pointerdown",n(this,De)),y("name",n(this,I)),y("bounty",n(this,I)),y("nameSpacing",n(this,I)),y("bountySpacing",n(this,I)),y("bountyFontFamily",n(this,I)),y("bountyFontScale",n(this,I)),y("bountyFontWeight",n(this,I)),y("bountyVerticalOffset",n(this,I)),y("posterShadow",n(this,I)),y("photoShadow",n(this,I)),y("blur",n(this,I)),y("saturate",n(this,I)),y("contrast",n(this,I)),y("grayscale",n(this,I)),y("hueRotate",n(this,I)),y("hueRotate",n(this,I)),y("sepia",n(this,I)),n(this,dt).value=b.name,n(this,ut).value=b.bounty.toString(),n(this,ft).value=b.nameSpacing.toString(),n(this,gt).value=b.bountySpacing.toString(),n(this,pt).value=b.bountyFontFamily.toString(),n(this,mt).value=b.bountyFontScale.toString(),n(this,bt).value=b.bountyFontWeight.toString(),n(this,yt).value=b.bountyVerticalOffset.toString(),n(this,wt).value=b.posterShadow.toString(),n(this,xt).value=b.photoShadow.toString(),n(this,vt).value=b.blur.toString(),n(this,St).value=b.brightness.toString(),n(this,kt).value=b.contrast.toString(),n(this,It).value=b.grayscale.toString(),n(this,Et).value=b.hueRotate.toString(),n(this,Lt).value=b.saturate.toString(),n(this,Tt).value=b.sepia.toString(),n(this,dt).addEventListener("input",()=>b.name=n(this,dt).value),n(this,ft).addEventListener("input",()=>b.nameSpacing=parseFloat(n(this,ft).value)),n(this,ut).addEventListener("input",()=>b.bounty=n(this,ut).value),n(this,pt).addEventListener("input",()=>{b.bountyFontFamily=n(this,pt).value}),n(this,gt).addEventListener("input",()=>{b.bountySpacing=parseFloat(n(this,gt).value)}),n(this,mt).addEventListener("input",()=>{b.bountyFontScale=parseFloat(n(this,mt).value)}),n(this,bt).addEventListener("input",()=>{b.bountyFontWeight=parseFloat(n(this,bt).value)}),n(this,yt).addEventListener("input",()=>{b.bountyVerticalOffset=parseFloat(n(this,yt).value)}),n(this,xt).addEventListener("input",()=>b.photoShadow=parseFloat(n(this,xt).value)),n(this,vt).addEventListener("input",()=>b.blur=parseFloat(n(this,vt).value)),n(this,St).addEventListener("input",()=>b.brightness=parseFloat(n(this,St).value)),n(this,kt).addEventListener("input",()=>b.contrast=parseFloat(n(this,kt).value)),n(this,It).addEventListener("input",()=>b.grayscale=parseFloat(n(this,It).value)),n(this,Et).addEventListener("input",()=>b.hueRotate=parseFloat(n(this,Et).value)),n(this,Lt).addEventListener("input",()=>b.saturate=parseFloat(n(this,Lt).value)),n(this,Tt).addEventListener("input",()=>b.sepia=parseFloat(n(this,Tt).value)),n(this,wt).addEventListener("input",()=>b.posterShadow=parseFloat(n(this,wt).value)),n(this,We).addEventListener("click",()=>this.toggle()),n(this,He).addEventListener("click",()=>Xr({photoUrl:b.photoUrl}))}}dt=new WeakMap,ut=new WeakMap,ft=new WeakMap,pt=new WeakMap,gt=new WeakMap,mt=new WeakMap,bt=new WeakMap,yt=new WeakMap,wt=new WeakMap,xt=new WeakMap,vt=new WeakMap,St=new WeakMap,kt=new WeakMap,It=new WeakMap,Et=new WeakMap,Lt=new WeakMap,Tt=new WeakMap,We=new WeakMap,He=new WeakMap,De=new WeakMap,I=new WeakMap;customElements.define(Jr,Zr);const ta=":host{display:block;position:fixed;top:0;right:0;transform:translate(105%);transition:transform .2s;box-sizing:border-box;box-shadow:.1rem 0 .3rem #0000007f;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.125rem;width:28rem;max-width:80%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host(.open){transform:translate(0)}.container{box-sizing:border-box;container:panel / inline-size;box-shadow:inset 0 0 .2rem .2rem #0000007f;border:.0625rem solid rgb(180 150 81);background:url("+new URL("../images/wood-bg.png",import.meta.url).href+") repeat-y center top;background-size:100% auto;width:100%;height:100%}.container>*{height:100%}.loading,.error{display:flex;justify-content:center;align-items:center;padding:1rem;color:#fff}.loading{font-size:6rem}.content{display:grid;grid-template-rows:auto 1fr auto}.header{display:grid;grid-template-columns:1fr auto auto;align-items:center;gap:1rem;padding:.5rem 1rem}.image-grid{display:grid;grid-template-rows:1fr 1fr 1fr 1fr 1fr;grid-template-columns:1fr 1fr;gap:1rem;padding:1rem;overflow-y:auto}.image-grid>img{filter:drop-shadow(0 0 .15rem rgba(0 0 0 / 80%));cursor:pointer;background-color:#fff;max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.pagination{display:flex;align-items:center;border:1px solid #3b230e;background:linear-gradient(120deg,rgb(245 198 95),rgb(245 218 158),rgb(245 198 96));padding:.5rem}.page-number-wrapper{display:flex;flex-grow:1;justify-content:space-evenly}.page-button,.navigate-button{display:flex;justify-content:center;align-items:center;transition:.2s;border:0;border-radius:.125em;background-color:transparent;padding:0 .25em;min-width:1.25em;min-height:1.25em;color:#3b230e;font-size:1em}.navigate-button{position:relative;font-size:1.6em}.navigate-button[disabled]{color:#3b230e7f}.navigate-button iconify-icon{position:absolute;pointer-events:none}.page-button:not([disabled]),.navigate-button:not([disabled]){cursor:pointer}.page-button:not([disabled]):hover,.navigate-button:not([disabled]):hover{background-color:#3b230e33}.page-button--active{background-color:#3b230e;color:#fff}@media (min-width: 430px){.pagination{gap:.5rem;font-size:1.25rem}}.search-input{filter:var(--element-filter);box-sizing:border-box;margin-right:auto;outline:none;border:0;background-image:url("+new URL("../images/input-frame.png",import.meta.url).href+`);background-position:center;background-size:100% 100%;background-repeat:no-repeat;background-color:transparent;padding:0 1rem;width:100%;max-width:14rem;height:2.75rem;color:var(--dark-text-color);font-size:1.4rem;line-height:2rem;font-family:serif;text-align:center}.search-input::-moz-placeholder{color:#0000004d;text-shadow:none}.search-input::placeholder{color:#0000004d;text-shadow:none}#orderButton::part(icon){transition:.2s transform}#orderButton[descending]::part(icon){transform:scaleX(-1) rotate(180deg)}:host([loading]) .content{display:none}:host([loading]) .error{display:none}:host([error]) .content{display:none}:host([error]) .loading{display:none}::-moz-selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::selection{filter:brightness(120%);background:rgb(88 64 52 / 80%);color:#fff}::-webkit-scrollbar{width:.2rem}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{border-radius:.1rem;background:#f5d58d}::-webkit-scrollbar-corner{background:transparent}
`,ea=`<div class="container">\r
  <div class="content">\r
    <div class="header">\r
      <input id="searchInput" type="text" class="search-input" placeholder="Name or ID">\r
      <icon-button id="orderButton" icon="tdesign:order-ascending" title="Change order"\r
        aria-label="Change order"></icon-button>\r
      <icon-button id="closeButton" icon="ep:close-bold" title="Close" aria-label="Close"></icon-button>\r
    </div>\r
    <div id="imageGrid" class="image-grid"></div>\r
    <div class="pagination">\r
      <button id="preButton" class="navigate-button" title="Previous page" aria-label="Previous page">\r
        <iconify-icon icon="ic:round-navigate-before"></iconify-icon>\r
      </button>\r
      <div id="pageNumberWrapper" class="page-number-wrapper"></div>\r
      <button id="nextButton" class="navigate-button" title="Next page" aria-label="Next page">\r
        <iconify-icon icon="ic:round-navigate-next"></iconify-icon>\r
      </button>\r
    </div>\r
  </div>\r
  <div class="loading"><iconify-icon icon="eos-icons:loading"></iconify-icon></div>\r
  <div id="error" class="error">Error</div>\r
</div>`,na="optc-gallery-panel",Xo=document.createElement("template");Xo.innerHTML=ea;var Ge,G,ee,ne,Qe,Dt,Gt,Qt,Yt,Ye,ie,oe,Xt,A,Q,Un,Vo,Nn,Ko,_n,Jo,jn,Zo,Z,zt;class ia extends HTMLElement{constructor(){super();h(this,Un);h(this,Nn);h(this,_n);h(this,jn);h(this,Z);h(this,Ge,0);h(this,G,null);h(this,ee,void 0);h(this,ne,void 0);h(this,Qe,void 0);h(this,Dt,void 0);h(this,Gt,void 0);h(this,Qt,void 0);h(this,Yt,void 0);h(this,Ye,void 0);h(this,ie,void 0);h(this,oe,"ascending");h(this,Xt,10);h(this,A,1);h(this,Q,0);const t=this.attachShadow({mode:"open"}),i=document.createElement("style");i.textContent=ta,t.append(i,Xo.content.cloneNode(!0)),u(this,ee,t.querySelector("#searchInput")),u(this,ne,t.querySelector("#orderButton")),u(this,Qe,t.querySelector("#closeButton")),u(this,Dt,t.querySelector("#imageGrid")),u(this,Gt,t.querySelector("#pageNumberWrapper")),u(this,Qt,t.querySelector("#preButton")),u(this,Yt,t.querySelector("#nextButton")),u(this,Ye,t.querySelector("#error")),u(this,ie,e=>{e.composedPath().includes(this)||this.classList.contains("open")&&this.toggle()})}async init(){this.setAttribute("loading","");try{const[t,i]=await Promise.all([p(this,Un,Vo).call(this),p(this,Nn,Ko).call(this)]);for(let e=i.length-1;e>0;e--){const r=e+1;if(r in t)continue;const a=i[e][0];t[r]=[a]}u(this,G,t),p(this,Z,zt).call(this)}catch(t){this.setAttribute("error","");let i="Faild to get character info.";t instanceof Error&&(i+=`
`+t.message),n(this,Ye).innerText=i}finally{this.removeAttribute("loading")}}get ids(){if(!n(this,G))return[];const t=n(this,ee).value.toLowerCase().trim();if(!t)return Array.from(Object.keys(n(this,G)));const i=[];for(const e in n(this,G)){if(e.includes(t)){i.push(e);continue}n(this,G)[e].some(l=>l.toLocaleLowerCase().includes(t))&&i.push(e)}return i}toggle(){!n(this,G)&&!this.classList.contains("open")&&this.init(),this.classList.toggle("open")}connectedCallback(){window.addEventListener("pointerdown",n(this,ie)),n(this,ee).addEventListener("input",()=>p(this,_n,Jo).call(this)),n(this,ne).addEventListener("click",()=>{u(this,oe,n(this,oe)==="ascending"?"descending":"ascending"),n(this,ne).toggleAttribute("descending"),p(this,Z,zt).call(this)}),n(this,Qe).addEventListener("click",()=>this.toggle()),n(this,Dt).addEventListener("click",t=>{const i=t.target;i instanceof Image&&(b.photoUrl=i.src,b.name=i.dataset.name??"",this.toggle())}),n(this,Qt).addEventListener("click",()=>{n(this,A)!==1&&(cn(this,A)._--,p(this,Z,zt).call(this))}),n(this,Yt).addEventListener("click",()=>{n(this,A)!==n(this,Q)&&(cn(this,A)._++,p(this,Z,zt).call(this))})}disconnectedCallback(){window.removeEventListener("pointerdown",n(this,ie))}}Ge=new WeakMap,G=new WeakMap,ee=new WeakMap,ne=new WeakMap,Qe=new WeakMap,Dt=new WeakMap,Gt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Ye=new WeakMap,ie=new WeakMap,oe=new WeakMap,Xt=new WeakMap,A=new WeakMap,Q=new WeakMap,Un=new WeakSet,Vo=async function(){let i=await(await fetch("https://raw.githubusercontent.com/optc-db/optc-db.github.io/master/common/data/families.js")).text();i=i.replace("(function () {","").replace("window.families =","const families = ").replace("const calcGhostStartIDStart = 5000;","").replace(/const ghostFamilies(.|\n)*\}\);/,"").replace("})();","export default families");const e=new Blob([i],{type:"text/javascript"}),r=URL.createObjectURL(e),{default:a}=await ti(()=>import(r),[],import.meta.url);return a},Nn=new WeakSet,Ko=async function(){let i=await(await fetch("https://raw.githubusercontent.com/optc-db/optc-db.github.io/master/common/data/units.js")).text();i=i.replace("window.units =","const units = ").replace("for(var i = 0; window.units.length","for(var i = 0; Infinity").replace("window.units.push","units.push").replace("window.units = window.units.concat(globalExUnits);","").replace("window.units = window.units.concat(ghostsUnits);","export default units").replaceAll("var ","let ");const e=new Blob([i],{type:"text/javascript"}),r=URL.createObjectURL(e),{default:a}=await ti(()=>import(r),[],import.meta.url);return a},_n=new WeakSet,Jo=function(){clearTimeout(n(this,Ge)),u(this,Ge,setTimeout(()=>{u(this,A,1),p(this,Z,zt).call(this)},500))},jn=new WeakSet,Zo=function(){if(n(this,Gt).innerHTML="",n(this,Q)===0){n(this,Qt).disabled=!0,n(this,Yt).disabled=!0;return}let t=1;const i=new Set([1,n(this,Q),n(this,A)]),e=Math.min(n(this,Q),5);for(;i.size<e;){const a=Math.max(n(this,A)-t,1),l=Math.min(n(this,A)+t,n(this,Q));i.add(a),i.add(l),t++}const r=Array.from(i.values()).sort((a,l)=>a-l);r.forEach((a,l)=>{const c=document.createElement("button");c.innerText=a.toString(),c.classList.add("page-button"),c.addEventListener("click",()=>{u(this,A,a),p(this,Z,zt).call(this)}),n(this,A)===a&&(c.classList.add("page-button--active"),c.toggleAttribute("disabled")),n(this,Gt).appendChild(c);const d=l+1;if(d<r.length&&r[d]-a>1){const f=document.createElement("button");f.classList.add("page-button"),f.toggleAttribute("disabled"),f.innerText="...",n(this,Gt).appendChild(f)}}),n(this,Qt).toggleAttribute("disabled",n(this,A)===1),n(this,Yt).toggleAttribute("disabled",n(this,A)===n(this,Q))},Z=new WeakSet,zt=function(){n(this,Dt).innerHTML="";const t=this.ids;if(u(this,Q,Math.ceil(t.length/n(this,Xt))),p(this,jn,Zo).call(this),n(this,Q)===0)return;const i=(n(this,A)-1)*n(this,Xt);(n(this,oe)==="ascending"?t.slice(i,i+n(this,Xt)):t.reverse().slice(i,i+n(this,Xt))).forEach(r=>{const a=parseInt(r);if(isNaN(a))return;const l=Math.floor(a/1e3),c=(Math.floor(a%1e3/100)*100).toString().padStart(3,"0"),d=a.toString().padStart(4,"0")+".png",f=`https://optc-db.github.io/api/images/full/transparent/${l}/${c}/${d}`,g=n(this,G)?n(this,G)[r].join(", ").toUpperCase():"",m=new Image;m.src=f,m.loading="lazy",m.dataset.id=r,m.dataset.name=g,n(this,Dt).appendChild(m)})};customElements.define(na,ia);const hn={posterShadow:5,photoShadow:4,blur:0,brightness:100,contrast:100,hueRotate:0,grayscale:12,saturate:80,sepia:15,name:"PUTLER",bounty:"War Criminal",nameSpacing:0,bountySpacing:1,bountyFontFamily:"Scheherazade New",bountyFontScale:1.35,bountyVerticalOffset:0,photoUrls:["./images/war-criminal/photo-01.png","./images/war-criminal/photo-02.png","./images/war-criminal/photo-03.png"]};function oa(o){var s;(s=window.launchQueue)==null||s.setConsumer(t=>{var i;(i=t.files)!=null&&i.length&&o(t.files)})}function sa(o){return o.kind==="file"}const to={setConsumer:oa,isFileHandle:sa},ra=":host{display:block;position:relative;transition:background-color .2s;box-sizing:border-box;background-image:url("+new URL("../images/cement-wall.jpg",import.meta.url).href+");background-position:center;background-size:cover;background-blend-mode:multiply;padding:1rem;width:100%;height:100%}:host(.warcriminal){background-image:url("+new URL("../images/cement-wall.jpg",import.meta.url).href+"),url("+new URL("../images/blood-stains-0.png",import.meta.url).href+")}:host(.dragin){background-color:silver}#uploadInput{display:none}.blood-overlay{display:none;position:absolute;top:0;left:0;opacity:.8;mix-blend-mode:multiply;animation-duration:4s;animation-name:fade-in;background-image:url("+new URL("../images/blood-stains-1.png",import.meta.url).href+");background-position:center;background-size:cover;width:100%;height:100%}.blood-overlay--visible{display:block}.loading-overlay{display:flex;position:absolute;top:0;left:0;justify-content:center;align-items:center;background-image:radial-gradient(#e1e4e7,#a5aab0);width:100%;height:100%}.loading-overlay__luffy{filter:drop-shadow(0 3px 3px rgb(0 0 0 / 50%));max-width:50vw;max-height:40vh}.tips-button{position:absolute;top:.8rem;left:.8rem;cursor:pointer;outline:none;border:0;background-color:transparent;padding:0}.tips-button>svg{filter:drop-shadow(0 0 2px rgb(0 0 0 / 50%));transition:.2s}.tips-button>svg:hover{filter:drop-shadow(0 0 3px #c08000) drop-shadow(0 0 5px #fffca3)}.tips-button--hidden{display:none}.optc-button{position:fixed;top:.5rem;right:5rem;filter:drop-shadow(0 0 .125rem rgb(0 0 0));transition:filter .2s;cursor:pointer;outline:none;border:0;background-image:url("+new URL("../images/tavern-button.png",import.meta.url).href+");background-position:center;background-size:contain;background-repeat:no-repeat;background-color:transparent;padding:0;width:2.4rem;height:2.4rem}.optc-button--hidden{display:none}.optc-button:hover{filter:drop-shadow(0 0 .18rem rgba(0 0 0))}.button-container{display:flex;position:absolute;bottom:0;left:0;gap:.5rem;box-sizing:border-box;padding:0 1rem 1rem}.button-container--hidden{display:none}.criminal{position:fixed;right:1rem;bottom:1.2rem;visibility:hidden;opacity:0;transition:visiblity 2s,opacity 2s;cursor:pointer;margin-left:auto;outline:none;border:0;background-color:transparent;padding:0;width:4rem;max-width:15vw;height:4rem;max-height:15vw}.criminal--visible{visibility:visible;opacity:1}.criminal.criminal--visible:after{top:55%;opacity:1}.criminal:before{position:absolute;top:0;left:0;filter:contrast(85%) brightness(0%) drop-shadow(1px 1px .5rem crimson) drop-shadow(-1px -1px .5rem crimson);transition:filter .5s;background-image:url("+new URL("../images/war-criminal/criminal-avatar.png",import.meta.url).href+');background-position:center;background-size:contain;background-repeat:no-repeat;width:100%;height:100%;content:" "}.criminal--stamp:before{filter:contrast(85%) brightness(110%) drop-shadow(1px 1px .1rem rgb(0 0 0 / 50%)) drop-shadow(-1px -1px .1rem rgb(0 0 0 / 50%));background-image:url('+new URL("../images/war-criminal/criminal-stamp.png",import.meta.url).href+"),url("+new URL("../images/war-criminal/criminal-avatar.png",import.meta.url).href+`)}.criminal:after{position:absolute;top:120%;left:53%;transform:translate(-50%,-50%);opacity:0;filter:brightness(100%)!important;transition:1s ease-out;content:"?";color:#fff;font-size:min(7vw,2rem)}.criminal--stamp:after{content:""}@keyframes fade-in{0%{opacity:0}to{opacity:.8}}
`,aa=`<input id="uploadInput" type="file" accept="image/*">\r
<slot name="poster"></slot>\r
<div class="blood-overlay"></div>\r
\r
<div class="button-container">\r
  <wanted-button id="editButton" aria-label="Edit panel button" title="Open the edit panel.">\r
    <iconify-icon slot="icon" icon="fluent-mdl2:edit-photo"></iconify-icon>\r
    EDIT\r
  </wanted-button>\r
\r
  <wanted-button id="importButton" aria-label="Import button" title="Import local image to edit.">\r
    <iconify-icon slot="icon" icon="uil:image-upload"></iconify-icon>\r
    IMPORT\r
  </wanted-button>\r
\r
  <wanted-button id="exportButton" aria-label="Export button" title="Export as image file.">\r
    <iconify-icon slot="icon" icon="uil:image-download"></iconify-icon>\r
    EXPORT\r
  </wanted-button>\r
</div>\r
\r
<button id="criminalButton" class="criminal" aria-label="Criminal mode button" title="War criminal"></button>\r
\r
<button id="tipsButton" class="tips-button" aria-label="Tips button" title="Tips">\r
  <svg width="32" height="32" viewBox="0 0 25 22">\r
    <defs>\r
      <radialGradient id="logo-gradient" cx="34%" cy="32%" fr="5%">\r
        <stop offset="0%" stop-color="#FFFDA8"></stop>\r
        <stop offset="70%" stop-color="#FFAB00"></stop>\r
      </radialGradient>\r
    </defs>\r
    <path fill="url('#logo-gradient')" stroke="#4E4A49"\r
      d="m22 10l-.625-1.375L20 8l1.375-.625L22 6l.625 1.375L24 8l-1.375.625Zm-3-4l-.95-2.05L16 3l2.05-.95L19 0l.95 2.05L22 3l-2.05.95ZM9 22q-.825 0-1.412-.587Q7 20.825 7 20h4q0 .825-.587 1.413Q9.825 22 9 22Zm-4-3v-2h8v2Zm.25-3q-1.725-1.025-2.737-2.75Q1.5 11.525 1.5 9.5q0-3.125 2.188-5.312Q5.875 2 9 2q3.125 0 5.312 2.188Q16.5 6.375 16.5 9.5q0 2.025-1.012 3.75q-1.013 1.725-2.738 2.75Z" />\r
  </svg>\r
</button>\r
\r
<button id="optcButton" class="optc-button" aria-label="ONE PIECE Treasure Cruise gallery"\r
  title="ONE PIECE Treasure Cruise gallery">\r
</button>\r
\r
<tips-dialog></tips-dialog>\r
\r
<slot></slot>\r
\r
<edit-panel></edit-panel>\r
<optc-gallery-panel></optc-gallery-panel>\r
\r
\r
<div class="loading-overlay">\r
  <luffy-logo class="loading-overlay__luffy"></luffy-logo>\r
</div>`,ca="app-container",de="#warcriminal",ts=document.createElement("template");ts.innerHTML=aa;var Xe,Ve,Ke,se,tt,Je,Ze,Ct,At,re,ae,tn,en,C,nn,R,qn,es,$n,ns,on,xi,Wn,is,O,j;class la extends HTMLElement{constructor(){super();h(this,qn);h(this,$n);h(this,on);h(this,Wn);h(this,O);h(this,Xe,void 0);h(this,Ve,void 0);h(this,Ke,void 0);h(this,se,void 0);h(this,tt,void 0);h(this,Je,void 0);h(this,Ze,void 0);h(this,Ct,void 0);h(this,At,void 0);h(this,re,void 0);h(this,ae,void 0);h(this,tn,0);h(this,en,0);h(this,C,void 0);h(this,nn,void 0);h(this,R,void 0);const t=this.attachShadow({mode:"open"});u(this,C,t);const i=document.createElement("style");i.textContent=ra,t.append(i,ts.content.cloneNode(!0)),t.addEventListener("WantedPosterLoaded",()=>{p(this,qn,es).call(this)});const e=n(this,C).querySelector("slot[name=poster]");u(this,se,e==null?void 0:e.assignedNodes()[0]),u(this,Xe,n(this,C).querySelector("edit-panel")),u(this,Ve,n(this,C).querySelector("optc-gallery-panel")),u(this,Ke,n(this,C).querySelector("tips-dialog")),u(this,tt,n(this,C).querySelector("#uploadInput")),u(this,Je,n(this,C).querySelector("#editButton")),u(this,Ze,n(this,C).querySelector("#importButton")),u(this,Ct,n(this,C).querySelector("#exportButton")),u(this,At,n(this,C).querySelector("#criminalButton")),u(this,re,n(this,C).querySelector("#tipsButton")),u(this,ae,n(this,C).querySelector("#optcButton")),u(this,nn,p(this,$n,ns).bind(this)),u(this,R,(r,a)=>{switch(r){case"photoUrl":p(this,O,j).call(this,{"photo-url":a.toString()});break;case"nameSpacing":p(this,O,j).call(this,{"name-spacing":a.toString()});break;case"bountySpacing":p(this,O,j).call(this,{"bounty-spacing":a.toString()});break;case"bountyFontFamily":p(this,O,j).call(this,{"bounty-font-family":a.toString()});break;case"bountyFontScale":p(this,O,j).call(this,{"bounty-font-scale":a.toString()});break;case"bountyFontWeight":p(this,O,j).call(this,{"bounty-font-weight":a.toString()});break;case"bountyVerticalOffset":p(this,O,j).call(this,{"bounty-vertical-offset":a.toString()});break;case"posterShadow":p(this,O,j).call(this,{"poster-shadow":a.toString()});break;case"photoShadow":p(this,O,j).call(this,{"photo-shadow":a.toString()});break;case"name":case"bounty":case"filter":p(this,O,j).call(this,{[r]:a.toString()})}}),window.addEventListener("hashchange",n(this,nn))}connectedCallback(){u(this,en,new Date().getTime()),p(this,O,j).call(this,{name:b.name,bounty:b.bounty.toString(),"name-spacing":b.nameSpacing.toString(),"bounty-spacing":b.bountySpacing.toString(),"poster-shadow":b.posterShadow.toString(),"bounty-font-family":b.bountyFontFamily,"bounty-font-weight":b.bountyFontWeight.toString(),"bounty-vertical-offset":b.bountyVerticalOffset.toString(),filter:b.filter}),y("photoUrl",n(this,R)),y("name",n(this,R)),y("bounty",n(this,R)),y("nameSpacing",n(this,R)),y("bountyFontFamily",n(this,R)),y("bountySpacing",n(this,R)),y("bountyFontScale",n(this,R)),y("bountyFontWeight",n(this,R)),y("bountyVerticalOffset",n(this,R)),y("posterShadow",n(this,R)),y("photoShadow",n(this,R)),y("filter",n(this,R)),location.hash===de&&p(this,on,xi).call(this,!0),this.addEventListener("dragover",t=>{t.preventDefault()}),this.addEventListener("dragenter",()=>{this.classList.add("dragin")}),this.addEventListener("dragleave",t=>{t.relatedTarget===null&&this.classList.remove("dragin")}),this.addEventListener("drop",t=>{var r;t.preventDefault(),this.classList.remove("dragin");const i=(r=t.dataTransfer)==null?void 0:r.files[0];if(!i||!i.type.startsWith("image"))return;const e=URL.createObjectURL(i);b.photoUrl=e}),n(this,tt).addEventListener("input",()=>{const t=n(this,tt).files?n(this,tt).files[0]:null;if(!t||!t.type.startsWith("image"))return;const i=URL.createObjectURL(t);b.photoUrl=i}),n(this,Je).addEventListener("click",()=>{n(this,Xe).toggle()}),n(this,Ze).addEventListener("click",()=>{n(this,tt).value="",n(this,tt).click()}),n(this,Ct).addEventListener("click",async()=>{if(!n(this,Ct).loading){n(this,Ct).loading=!0;try{await n(this,se).export()}catch(t){console.error(t);let i="";t instanceof Error&&(i=t.message),alert(`Oops! something went wrong.  
 ${i}`)}finally{n(this,Ct).loading=!1}}}),n(this,At).addEventListener("click",()=>{const t=location.hash===de;location.hash=t?"":de}),n(this,re).addEventListener("click",()=>{n(this,Ke).toggle()}),n(this,ae).addEventListener("click",()=>{n(this,Ve).toggle()}),to.setConsumer(async t=>{const i=t[0];if(!to.isFileHandle(i))return;const e=await i.getFile(),r=URL.createObjectURL(e);b.photoUrl=r})}}Xe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,se=new WeakMap,tt=new WeakMap,Je=new WeakMap,Ze=new WeakMap,Ct=new WeakMap,At=new WeakMap,re=new WeakMap,ae=new WeakMap,tn=new WeakMap,en=new WeakMap,C=new WeakMap,nn=new WeakMap,R=new WeakMap,qn=new WeakSet,es=function(){const t=n(this,C).querySelector(".loading-overlay"),i=1e3,e=setInterval(()=>{if(!(new Date().getTime()-n(this,en)<i)){if(clearTimeout(e),t.style.transition="opacity 1s",t.style.opacity="0",setTimeout(()=>t.remove(),1e3),location.hash===de){n(this,At).classList.add("criminal--visible");return}setTimeout(()=>n(this,At).classList.add("criminal--visible"),1e4)}},200)},$n=new WeakSet,ns=function(){p(this,on,xi).call(this,location.hash===de)},on=new WeakSet,xi=function(t){var a;const i=n(this,C).querySelector(".blood-overlay");if(!i)return;const e=t?"https://github.com/vshymanskyy/StandWithUkraine/blob/main/docs/README.md":"https://github.com/YuskaWu/one-piece-wanted-poster",r=document.querySelector("github-corner");r.classList.toggle("gc-ua",t),r.setAttribute("href",e),this.classList.toggle("warcriminal"),i.classList.toggle("blood-overlay--visible"),n(this,At).classList.toggle("criminal--stamp"),n(this,re).classList.toggle("tips-button--hidden"),n(this,ae).classList.toggle("optc-button--hidden"),(a=n(this,C).querySelector(".button-container"))==null||a.classList.toggle("button-container--hidden"),t&&Zn({...hn}),p(this,Wn,is).call(this,t)},Wn=new WeakSet,is=function(t){if(!t){clearInterval(n(this,tn));return}const i=hn.photoUrls.length;let e=Math.floor(i*Math.random());Zn({photoUrl:hn.photoUrls[e]+"#nohighlight"}),u(this,tn,window.setInterval(()=>{e=(e+1)%i,Zn({photoUrl:hn.photoUrls[e]+"#nohighlight"})},5e3))},O=new WeakSet,j=function(t){const i=Object.keys(t);for(const e of i){const r=t[e]??"";n(this,se).setAttribute(e,r)}};customElements.define(ca,la);
